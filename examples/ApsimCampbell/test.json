{
  "metadata": {
    "Title": "SoilTemperature",
    "Authors": "-",
    "Institution": "-",
    "URI": "Models.Soils.SoilTemp.SoilTemperature",
    "DOI": "-",
    "Extended description": "The soil temperature model simulates heat flux and temperatures over the soil profile, including the soil surface. Processes are largely based on Campbell (1985). The soil is represented by temperature nodes, including an atmospheric node and a surface node, and nodes at the centre of each soil layer plus phantom nodes below the profile for boundary conditions.",
    "Short description": "Daily soil temperature and heat flux simulation over a layered soil profile.",
    "Model version": "-"
  },
  "init": {
    "name": "OnStartOfSimulation",
    "firstLine": "doInitialisationStuff = true;",
    "lastLine": "InitialValues = pInitialValues;"
  },
  "process": {
    "name": "doProcess",
    "description": "Performs the daily soil temperature simulation by sub-daily time-stepping: computes net radiation, volumetric heat capacity, thermal conductivity, solves the heat diffusion using a Thomas algorithm with atmospheric boundary layer coupling, and updates daily min/max/average temperatures.",
    "firstLine": "const int interactionsPerDay = 48;     // number of iterations in a day",
    "lastLine": "maxTempYesterday = weather.MaxT;"
  },
  "inputs": [
    {
      "name": "InitialValues",
      "description": "Initial values for the temperature in each soil layer (oC)",
      "inputtype": "parameter",
      "category": "auxiliary",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "DepthToConstantTemperature",
      "description": "Depth down to the constant temperature zone",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "10000.0",
      "unit": "mm",
      "uri": ""
    },
    {
      "name": "pom",
      "description": "Particle density of organic matter",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "1.3",
      "unit": "Mg/m3",
      "uri": ""
    },
    {
      "name": "ps",
      "description": "Particle density of soil fines (minerals)",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "2.63",
      "unit": "Mg/m3",
      "uri": ""
    },
    {
      "name": "timestep",
      "description": "Internal time-step length",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "86400.0",
      "unit": "s",
      "uri": ""
    },
    {
      "name": "latentHeatOfVapourisation",
      "description": "Latent heat of vaporisation for water",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "2465000.0",
      "unit": "J/kg",
      "uri": ""
    },
    {
      "name": "stefanBoltzmannConstant",
      "description": "Stefan-Boltzmann constant",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "5.67E-8",
      "unit": "W/m2/K4",
      "uri": ""
    },
    {
      "name": "airNode",
      "description": "Index of the atmosphere node",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "INT",
      "len": "-",
      "min": "",
      "max": "",
      "default": "0",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "surfaceNode",
      "description": "Index of the soil surface node",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "INT",
      "len": "-",
      "min": "",
      "max": "",
      "default": "1",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "topsoilNode",
      "description": "Index of the first node within soil (top layer)",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "INT",
      "len": "-",
      "min": "",
      "max": "",
      "default": "2",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "numPhantomNodes",
      "description": "Number of phantom nodes below the soil profile",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "INT",
      "len": "-",
      "min": "",
      "max": "",
      "default": "5",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "constantBoundaryLayerConductance",
      "description": "Boundary layer conductance when using constant option",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "20",
      "unit": "W/K",
      "uri": ""
    },
    {
      "name": "numIterationsForBoundaryLayerConductance",
      "description": "Number of iterations for boundary layer conductance calculation",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "INT",
      "len": "-",
      "min": "",
      "max": "",
      "default": "1",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "defaultTimeOfMaximumTemperature",
      "description": "Time of maximum air temperature (hour of day)",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "14.0",
      "unit": "h",
      "uri": ""
    },
    {
      "name": "defaultInstrumentHeight",
      "description": "Default instrument (wind/temperature) height above ground",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "1.2",
      "unit": "m",
      "uri": ""
    },
    {
      "name": "bareSoilRoughness",
      "description": "Roughness element height of bare soil",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "57",
      "unit": "mm",
      "uri": ""
    },
    {
      "name": "nu",
      "description": "Forward/backward differencing coefficient for numerical scheme",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "1",
      "default": "0.6",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "boundarLayerConductanceSource",
      "description": "Source for boundary layer conductance: 'calc' or 'constant'",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "CHAR",
      "len": "-",
      "min": "",
      "max": "",
      "default": "calc",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "netRadiationSource",
      "description": "Source for net radiation at surface: 'calc' or 'eos'",
      "inputtype": "parameter",
      "category": "constant",
      "datatype": "CHAR",
      "len": "-",
      "min": "",
      "max": "",
      "default": "calc",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "weather_MeanT",
      "description": "Daily mean air temperature",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "weather_MaxT",
      "description": "Daily maximum air temperature",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "weather_MinT",
      "description": "Daily minimum air temperature",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "weather_Tav",
      "description": "Annual average air temperature",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "weather_Amp",
      "description": "Annual amplitude of air temperature",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "weather_Radn",
      "description": "Daily incoming shortwave radiation",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "MJ/m2/day",
      "uri": ""
    },
    {
      "name": "weather_Latitude",
      "description": "Site latitude",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "-90",
      "max": "90",
      "default": "",
      "unit": "deg",
      "uri": ""
    },
    {
      "name": "weather_AirPressure",
      "description": "Air pressure",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "hPa",
      "uri": ""
    },
    {
      "name": "weather_Wind",
      "description": "Wind speed at instrument height",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "m/s",
      "uri": ""
    },
    {
      "name": "clock_TodayDayOfYear",
      "description": "Day of year for current simulation date",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "INT",
      "len": "-",
      "min": "1",
      "max": "366",
      "default": "",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "microClimate_CanopyHeight",
      "description": "Height of canopy above ground",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "m",
      "uri": ""
    },
    {
      "name": "physical_Thickness",
      "description": "Soil layer thickness",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "mm",
      "uri": ""
    },
    {
      "name": "physical_BD",
      "description": "Soil bulk density",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "g/cm3",
      "uri": ""
    },
    {
      "name": "physical_Rocks",
      "description": "Volumetric fraction of rocks",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "physical_ParticleSizeSand",
      "description": "Particle size fraction sand",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "physical_ParticleSizeSilt",
      "description": "Particle size fraction silt",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "physical_ParticleSizeClay",
      "description": "Particle size fraction clay",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "organic_Carbon",
      "description": "Soil organic carbon",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "waterBalance_SW",
      "description": "Layer volumetric soil water content",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "1",
      "default": "",
      "unit": "mm3/mm3",
      "uri": ""
    },
    {
      "name": "waterBalance_Eos",
      "description": "Soil evaporation (potential) used for net radiation/cover effects",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "mm/day",
      "uri": ""
    },
    {
      "name": "waterBalance_Eo",
      "description": "Reference evaporation (EO) used for cover scaling",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "mm/day",
      "uri": ""
    },
    {
      "name": "waterBalance_Es",
      "description": "Soil evaporation (actual) used for latent heat flux",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "mm/day",
      "uri": ""
    },
    {
      "name": "waterBalance_Salb",
      "description": "Soil albedo used for shortwave net radiation and initial surface T",
      "inputtype": "variable",
      "category": "exogenous",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "1",
      "default": "",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "instrumHeight",
      "description": "Optional instrument height override",
      "inputtype": "parameter",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "m",
      "uri": ""
    },
    {
      "name": "instrumentHeight",
      "description": "Instrument height used in boundary layer conductance (derived/defaulted)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "1.2",
      "unit": "m",
      "uri": ""
    },
    {
      "name": "soilRoughnessHeight",
      "description": "Soil surface roughness height",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "57",
      "unit": "mm",
      "uri": ""
    },
    {
      "name": "numLayers",
      "description": "Number of soil layers",
      "inputtype": "variable",
      "category": "state",
      "datatype": "INT",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "numNodes",
      "description": "Number of temperature nodes (layers + phantom)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "INT",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "-",
      "uri": ""
    },
    {
      "name": "thickness",
      "description": "Thickness of each soil layer including phantom layers",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "mm",
      "uri": ""
    },
    {
      "name": "nodeDepth",
      "description": "Depth of nodes from surface",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "m",
      "uri": ""
    },
    {
      "name": "bulkDensity",
      "description": "Soil bulk density per layer including phantom layers",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "g/cm3",
      "uri": ""
    },
    {
      "name": "rocks",
      "description": "Volumetric fraction of rocks per layer (%)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "carbon",
      "description": "Volumetric fraction of carbon per layer (%)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "sand",
      "description": "Volumetric fraction of sand per layer (%)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "silt",
      "description": "Volumetric fraction of silt per layer (%)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "clay",
      "description": "Volumetric fraction of clay per layer (%)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "100",
      "default": "",
      "unit": "%",
      "uri": ""
    },
    {
      "name": "soilWater",
      "description": "Volumetric water content per layer including phantom layers",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "1",
      "default": "",
      "unit": "mm3/mm3",
      "uri": ""
    },
    {
      "name": "soilTemp",
      "description": "Soil temperature profile (air node, surface, layers, phantom nodes)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "morningSoilTemp",
      "description": "Soil temperature profile captured in the morning",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "newTemperature",
      "description": "Provisional new temperature profile computed each sub-daily step",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "minSoilTemp",
      "description": "Minimum soil temperature over the day (per node)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "maxSoilTemp",
      "description": "Maximum soil temperature over the day (per node)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "aveSoilTemp",
      "description": "Average soil temperature over the day (per node)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "boundaryLayerConductance",
      "description": "Average daily atmospheric boundary layer conductance",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "0",
      "unit": "W/K",
      "uri": ""
    },
    {
      "name": "volSpecHeatSoil",
      "description": "Volumetric heat capacity per node (layer-to-node mapped)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "J/K/m3",
      "uri": ""
    },
    {
      "name": "thermalConductivity",
      "description": "Thermal conductivity per node (layer-to-node mapped)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "W.m/K",
      "uri": ""
    },
    {
      "name": "thermalConductance",
      "description": "Thermal conductance between nodes (index same as upper node)",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "W/K",
      "uri": ""
    },
    {
      "name": "heatStorage",
      "description": "Heat storage term at nodes for the time step",
      "inputtype": "variable",
      "category": "state",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "W/K",
      "uri": ""
    },
    {
      "name": "internalTimeStep",
      "description": "Computed sub-daily internal timestep for the day",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "s",
      "uri": ""
    },
    {
      "name": "timeOfDaySecs",
      "description": "Time of day from midnight for sub-daily integration",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "86400",
      "default": "",
      "unit": "s",
      "uri": ""
    },
    {
      "name": "airTemperature",
      "description": "Interpolated sub-daily air temperature",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "minTempYesterday",
      "description": "Yesterday's minimum air temperature used in diurnal interpolation",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "0",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "maxTempYesterday",
      "description": "Yesterday's maximum air temperature used in diurnal interpolation",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "0",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "netRadiation",
      "description": "Net radiation per internal time-step (shortwave + longwave)",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "",
      "max": "",
      "default": "0",
      "unit": "MJ per step",
      "uri": ""
    },
    {
      "name": "canopyHeight",
      "description": "Canopy/roughness height used in boundary layer calculations",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLE",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "m",
      "uri": ""
    },
    {
      "name": "pInitialValues",
      "description": "Internal storage of initial layer temperatures (if provided)",
      "inputtype": "variable",
      "category": "auxiliary",
      "datatype": "DOUBLEARRAY",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    }
  ],
  "outputs": [
    {
      "name": "FinalSoilTemperature",
      "description": "Temperatures over the soil profile at end of day (midnight)",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "FinalSoilSurfaceTemperature",
      "description": "Soil surface temperature at end of day (midnight)",
      "datatype": "DOUBLE",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "Value",
      "description": "ISoilTemperature.Value (alias of AverageSoilTemperature)",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "AverageSoilTemperature",
      "description": "Temperatures over soil profile averaged over a day",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "AverageSoilSurfaceTemperature",
      "description": "Soil surface temperature averaged over a day",
      "datatype": "DOUBLE",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "MinimumSoilTemperature",
      "description": "Minimum temperatures over the soil profile within a day",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "MinimumSoilSurfaceTemperature",
      "description": "Minimum soil surface temperature within a day",
      "datatype": "DOUBLE",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "MaximumSoilTemperature",
      "description": "Maximum temperatures over the soil profile within a day",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "MaximumSoilSurfaceTemperature",
      "description": "Maximum soil surface temperature within a day",
      "datatype": "DOUBLE",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    },
    {
      "name": "BoundaryLayerConductance",
      "description": "Atmospheric boundary layer conductance averaged over a day",
      "datatype": "DOUBLE",
      "category": "state",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "W/K",
      "uri": ""
    },
    {
      "name": "ThermalConductivity",
      "description": "Thermal conductivity over the soil profile (node-based)",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "W.m/K",
      "uri": ""
    },
    {
      "name": "HeatCapacity",
      "description": "Volumetric heat capacity over the soil profile (node-based)",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "J/K/m3",
      "uri": ""
    },
    {
      "name": "HeatStore",
      "description": "Heat storage over the soil profile (node-based)",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "0",
      "max": "",
      "default": "",
      "unit": "J/K",
      "uri": ""
    },
    {
      "name": "Thr_profile",
      "description": "Snapshot of morning soil temperature profile (debug/diagnostic)",
      "datatype": "DOUBLEARRAY",
      "category": "state",
      "len": "-",
      "min": "",
      "max": "",
      "default": "",
      "unit": "oC",
      "uri": ""
    }
  ],
  "functions": [
    {
      "name": "doNetRadiation",
      "description": "Pre-computes per-timestep solar radiation partitioning and atmospheric variables (cloud fraction, vapour concentration) for the day."
    },
    {
      "name": "Zero",
      "description": "Utility to zero all elements of an array."
    },
    {
      "name": "doVolumetricSpecificHeat",
      "description": "Computes volumetric heat capacity per node from soil constituents and water, then maps layer to node."
    },
    {
      "name": "doThermalConductivity",
      "description": "Computes thermal conductivity per layer from soil constituents and water and maps to nodes."
    },
    {
      "name": "interpolateTemperature",
      "description": "Interpolates sub-daily air temperature from daily min/max using sinusoidal/linear scheme."
    },
    {
      "name": "interpolateNetRadiation",
      "description": "Computes timestep net radiation at soil surface from solar radiation, cloud, vapour and cover."
    },
    {
      "name": "getBoundaryLayerConductance",
      "description": "Calculates atmospheric boundary layer conductance including stability and radiative terms."
    },
    {
      "name": "doThomas",
      "description": "Solves the tridiagonal system for heat diffusion using the Thomas algorithm with surface and bottom boundary conditions."
    },
    {
      "name": "doUpdate",
      "description": "Updates state arrays (soil temperatures), and aggregates min, max, average temperatures and daily boundary conductance."
    }
  ],
  "tests": [
    {
      "name": "-",
      "description": "-",
      "inputs": [
        {
          "name": "-",
          "value": "-"
        }
      ],
      "outputs": [
        {
          "name": "-",
          "value": "-"
        }
      ]
    }
  ]
}