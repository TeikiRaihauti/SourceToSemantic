{
    "init": {
        "name": "soiltemperature_init"
    },
    "process": {
        "name": "soiltemperature_process",
        "description": "Main biophysical process simulating soil temperature and heat fluxes over an internal day loop; updates temperatures, conductances, radiative terms, and related state variables for one time step."
    },
    "inputs": [
        {
            "name": "weather_MinT",
            "description": "Daily minimum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_MaxT",
            "description": "Daily maximum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_MeanT",
            "description": "Daily mean air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_Tav",
            "description": "Long-term average air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_Amp",
            "description": "Annual air temperature amplitude",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_AirPressure",
            "description": "Air pressure",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "hPa",
            "uri": "-"
        },
        {
            "name": "weather_Wind",
            "description": "Wind speed at instrument height",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m/s",
            "uri": "-"
        },
        {
            "name": "weather_Latitude",
            "description": "Site latitude",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-90",
            "max": "90",
            "default": "-",
            "unit": "deg",
            "uri": "-"
        },
        {
            "name": "weather_Radn",
            "description": "Daily global solar radiation",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "MJ/m2/d",
            "uri": "-"
        },
        {
            "name": "clock_Today_DayOfYear",
            "description": "Day of year",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "366",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "microClimate_CanopyHeight",
            "description": "Canopy height input",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "physical_Thickness",
            "description": "Layer thickness profile",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "physical_BD",
            "description": "Layer bulk density profile",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "g/cm3",
            "uri": "-"
        },
        {
            "name": "ps",
            "description": "Particle density of solids",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "Mg/m3",
            "uri": "-"
        },
        {
            "name": "physical_Rocks",
            "description": "Rock fragment content per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeSand",
            "description": "Sand percentage per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeSilt",
            "description": "Silt percentage per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeClay",
            "description": "Clay percentage per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "organic_Carbon",
            "description": "Organic carbon per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "waterBalance_SW",
            "description": "Water balance soil water by layer",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "waterBalance_Eos",
            "description": "Soil evaporation supply",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "waterBalance_Eo",
            "description": "Potential evapotranspiration",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "waterBalance_Es",
            "description": "Actual soil evaporation rate",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "waterBalance_Salb",
            "description": "Soil albedo (shortwave reflectance)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "pInitialValues",
            "description": "Initial soil temperature profile values",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "DepthToConstantTemperature",
            "description": "Depth to constant temperature bottom boundary",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "1000",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "timestep",
            "description": "Model time step length",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "latentHeatOfVapourisation",
            "description": "Latent heat of vaporisation",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "J/kg",
            "uri": "-"
        },
        {
            "name": "stefanBoltzmannConstant",
            "description": "Stefan-Boltzmann constant",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "5.67e-8",
            "unit": "W/m2/K4",
            "uri": "-"
        },
        {
            "name": "airNode",
            "description": "Index of air node in vertical grid",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "surfaceNode",
            "description": "Index of soil surface node in grid",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "1",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "topsoilNode",
            "description": "Index of topsoil node for initial profile mapping",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "numPhantomNodes",
            "description": "Number of phantom nodes below profile",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "2",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "constantBoundaryLayerConductance",
            "description": "Fixed boundary layer conductance when using constant source",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "W/m2/K",
            "uri": "-"
        },
        {
            "name": "numIterationsForBoundaryLayerConductance",
            "description": "Iterations to converge stability corrections for boundary layer conductance",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "defaultTimeOfMaximumTemperature",
            "description": "Hour of day for maximum air temperature",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "24",
            "default": "15",
            "unit": "h",
            "uri": "-"
        },
        {
            "name": "defaultInstrumentHeight",
            "description": "Default instrument (wind) height above ground",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0.5",
            "max": "-",
            "default": "2.0",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "bareSoilRoughness",
            "description": "Bare soil roughness height used at initialization",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "nodeDepth",
            "description": "Vertical grid node depths",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "thermCondPar1",
            "description": "Thermal conductivity parameter 1 per node (initial)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermCondPar2",
            "description": "Thermal conductivity parameter 2 per node (initial)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermCondPar3",
            "description": "Thermal conductivity parameter 3 per node (initial)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermCondPar4",
            "description": "Thermal conductivity parameter 4 per node (initial)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "pom",
            "description": "Organic matter particle density",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "1.3",
            "unit": "Mg/m3",
            "uri": "-"
        },
        {
            "name": "soilRoughnessHeight",
            "description": "Soil surface roughness height",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "nu",
            "description": "Numerical scheme weight for Crank-Nicolson",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "0.5",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "boundarLayerConductanceSource",
            "description": "Boundary layer conductance source (constant or calc)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "calc",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "netRadiationSource",
            "description": "Net radiation source (calc or eos)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "calc",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "MissingValue",
            "description": "Sentinel missing value used in arrays",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-999",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "soilConstituentNames",
            "description": "List of soil constituents to include (e.g., Rocks, OrganicMatter, Sand, Silt, Clay, Water, Ice, Air, Minerals)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "['Minerals','Water','Air']",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "InitialValues",
            "description": "Initial soil temperature values provided or derived",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "[]",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "doInitialisationStuff",
            "description": "Flag controlling initialization pathway",
            "inputtype": "variable",
            "category": "state",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "1",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "internalTimeStep",
            "description": "Internal sub-daily step length used for diurnal loop",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "0",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "timeOfDaySecs",
            "description": "Seconds from midnight within current day loop",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "86400",
            "default": "0",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "numNodes",
            "description": "Number of nodes in vertical grid (including phantom nodes)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "2",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "numLayers",
            "description": "Number of soil layers (excluding phantom nodes)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat of soil per node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "[]",
            "unit": "J/m3/K",
            "uri": "-"
        },
        {
            "name": "soilTemp",
            "description": "Soil temperature profile by node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "[]",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "morningSoilTemp",
            "description": "Soil temperature snapshot near 5:00 AM by node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "[]",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "heatStorage",
            "description": "Heat storage capacity term per node over internal step",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "[]",
            "unit": "W/m2/K",
            "uri": "-"
        },
        {
            "name": "thermalConductance",
            "description": "Thermal conductance between nodes",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "[]",
            "unit": "W/m2/K",
            "uri": "-"
        },
        {
            "name": "thermalConductivity",
            "description": "Thermal conductivity per node (used internally; recalculated each step)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "[]",
            "unit": "W/m/K",
            "uri": "-"
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Boundary layer conductance at surface-air interface",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0",
            "unit": "W/m2/K",
            "uri": "-"
        },
        {
            "name": "newTemperature",
            "description": "Working temperature vector used by solver (includes air node)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "[]",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "airTemperature",
            "description": "Air node temperature (equals newTemperature[airNode])",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-50",
            "max": "60",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxTempYesterday",
            "description": "Yesterday maximum temperature for diurnal interpolation",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "minTempYesterday",
            "description": "Yesterday minimum temperature for diurnal interpolation",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "soilWater",
            "description": "Soil water content per layer/node (volumetric or mapped)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "[]",
            "unit": "mm/mm",
            "uri": "-"
        },
        {
            "name": "minSoilTemp",
            "description": "Minimum soil temperature encountered during the day per node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "[]",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxSoilTemp",
            "description": "Maximum soil temperature encountered during the day per node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "[]",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "aveSoilTemp",
            "description": "Average soil temperature over the day per node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "[]",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "aveSoilWater",
            "description": "Average soil water over the day per node (not used)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thickness",
            "description": "Model thickness array including phantom nodes (1-based indexing logic)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "[]",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "bulkDensity",
            "description": "Bulk density per layer/node (propagated to phantom nodes)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "[]",
            "unit": "g/cm3",
            "uri": "-"
        },
        {
            "name": "rocks",
            "description": "Rock fragment content per layer/node (propagated)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "[]",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "carbon",
            "description": "Organic carbon per layer/node (propagated)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "[]",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "sand",
            "description": "Sand percentage per layer/node (propagated)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "[]",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "silt",
            "description": "Silt percentage per layer/node (propagated)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "[]",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "clay",
            "description": "Clay percentage per layer/node (propagated)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "[]",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "instrumentHeight",
            "description": "Instrument (wind) height used for BL conductance calc",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0.5",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "netRadiation",
            "description": "Net radiation at soil surface per internal step",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0",
            "unit": "MJ/m2/step",
            "uri": "-"
        },
        {
            "name": "canopyHeight",
            "description": "Effective canopy height used in roughness and BL conductance",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "instrumHeight",
            "description": "Instrument height input (unused downstream, kept for interface)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "nodeDepth",
            "description": "Grid node depths (passed to process for solver geometry)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "[]",
            "unit": "m",
            "uri": "-"
        }
    ],
    "outputs": [
        {
            "name": "InitialValues",
            "description": "Updated/derived initial soil temperature profile values",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "doInitialisationStuff",
            "description": "Flag indicating whether initialization is pending (0/1)",
            "datatype": "INT",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "internalTimeStep",
            "description": "Internal sub-daily step length used for diurnal loop",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "timeOfDaySecs",
            "description": "Seconds from midnight within current day loop",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "86400",
            "default": "-",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat of soil per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "J/m3/K",
            "uri": "-"
        },
        {
            "name": "soilTemp",
            "description": "Updated soil temperature profile by node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "morningSoilTemp",
            "description": "Soil temperatures around early morning (5:00) by node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "heatStorage",
            "description": "Heat storage coefficient per node over internal step",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "W/m2/K",
            "uri": "-"
        },
        {
            "name": "thermalConductance",
            "description": "Thermal conductance between nodes after solve",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "W/m2/K",
            "uri": "-"
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Mean boundary layer conductance for the day",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "W/m2/K",
            "uri": "-"
        },
        {
            "name": "newTemperature",
            "description": "Updated working temperature vector by node (includes air node)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "airTemperature",
            "description": "Updated air node temperature",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-50",
            "max": "60",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxTempYesterday",
            "description": "Stored yesterday maximum temperature",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "minTempYesterday",
            "description": "Stored yesterday minimum temperature",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "soilWater",
            "description": "Updated soil water per layer/node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "mm/mm",
            "uri": "-"
        },
        {
            "name": "minSoilTemp",
            "description": "Daily minimum soil temperature per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxSoilTemp",
            "description": "Daily maximum soil temperature per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "aveSoilTemp",
            "description": "Daily average soil temperature per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "instrumentHeight",
            "description": "Updated instrument (wind) height after constraints",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0.5",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "netRadiation",
            "description": "Net radiation at soil surface for the time step",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "MJ/m2/step",
            "uri": "-"
        },
        {
            "name": "canopyHeight",
            "description": "Updated effective canopy height",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        }
    ],
    "functions": [
        {
            "name": "getIniVariables",
            "description": "Initializes instrumentHeight from provided instrument or default."
        },
        {
            "name": "Sum",
            "description": "Sums list values over index range skipping MissingValue."
        },
        {
            "name": "Divide",
            "description": "Safe division returning errVal if denominator is zero."
        },
        {
            "name": "ToCumThickness",
            "description": "Converts layer thicknesses to cumulative depths."
        },
        {
            "name": "kelvinT",
            "description": "Converts Celsius to Kelvin."
        },
        {
            "name": "airDensity",
            "description": "Computes air density from temperature and pressure."
        },
        {
            "name": "longWaveRadn",
            "description": "Computes longwave radiation using emissivity and temperature."
        },
        {
            "name": "volumetricSpecificHeat",
            "description": "Returns volumetric specific heat for named soil constituent."
        },
        {
            "name": "volumetricFractionRocks",
            "description": "Rock volumetric fraction for a layer."
        },
        {
            "name": "volumetricFractionOrganicMatter",
            "description": "Organic matter volumetric fraction for a layer."
        },
        {
            "name": "volumetricFractionIce",
            "description": "Ice volumetric fraction for a layer (returns 0)."
        },
        {
            "name": "volumetricFractionWater",
            "description": "Water volumetric fraction for a layer."
        },
        {
            "name": "volumetricFractionClay",
            "description": "Clay volumetric fraction for a layer."
        },
        {
            "name": "volumetricFractionSilt",
            "description": "Silt volumetric fraction for a layer."
        },
        {
            "name": "volumetricFractionSand",
            "description": "Sand volumetric fraction for a layer."
        },
        {
            "name": "volumetricFractionAir",
            "description": "Air volumetric fraction for a layer."
        },
        {
            "name": "mapLayer2Node",
            "description": "Maps per-layer values to nodes using linear weighting by distances."
        },
        {
            "name": "ThermalConductance",
            "description": "Returns (overwritten) conductance per constituent; preserves original bug using volumetricSpecificHeat."
        },
        {
            "name": "shapeFactor",
            "description": "Returns (overwritten) shape factor; preserves original bug using volumetricSpecificHeat."
        },
        {
            "name": "Zero",
            "description": "Zeroes a list in place if not None."
        },
        {
            "name": "doVolumetricSpecificHeat",
            "description": "Computes volumetric specific heat per node and maps to nodes."
        },
        {
            "name": "doThermalConductivity",
            "description": "Computes effective thermal conductivity per node."
        },
        {
            "name": "getBoundaryLayerConductance",
            "description": "Iteratively computes boundary layer conductance with stability corrections."
        },
        {
            "name": "interpolateNetRadiation",
            "description": "Computes net shortwave and longwave radiation reaching soil per internal step."
        },
        {
            "name": "interpolateTemperature",
            "description": "Diurnal air temperature interpolation using sine curves."
        },
        {
            "name": "doThomas",
            "description": "Thomas algorithm for tridiagonal heat conduction solve."
        },
        {
            "name": "doUpdate",
            "description": "Updates soil temperatures, min/max/avg, and accumulates BL conductance."
        },
        {
            "name": "doNetRadiation",
            "description": "Distributes daily solar radiation and computes cloud fraction and cva."
        },
        {
            "name": "doProcess",
            "description": "Performs one day’s internal loop: radiation, BL conductance, solve, and daily aggregations."
        },
        {
            "name": "doThermalConductivityCoeffs",
            "description": "Computes thermal conductivity parameter arrays per node."
        },
        {
            "name": "calcSoilTemperature",
            "description": "Initial seasonal soil temperature profile by depth."
        },
        {
            "name": "calcSurfaceTemperature",
            "description": "Computes surface temperature from radiation and albedo."
        },
        {
            "name": "readParam",
            "description": "Initializes conductivity parameters, soil temps, and roughness height."
        },
        {
            "name": "getOtherVariables",
            "description": "Refreshes soil water, instrument height, canopy height from inputs."
        },
        {
            "name": "getProfileVariables",
            "description": "Builds model profile arrays (thickness, nodeDepth, properties, phantom nodes)."
        },
        {
            "name": "ValuesInArray",
            "description": "Checks if array has any non-missing values."
        },
        {
            "name": "math_pi",
            "description": "Returns PI constant."
        },
        {
            "name": "math_sin",
            "description": "Wrapper for math.sin."
        },
        {
            "name": "math_cos",
            "description": "Wrapper for math.cos."
        },
        {
            "name": "math_log",
            "description": "Safe natural log with guard for non-positive inputs."
        },
        {
            "name": "math_exp",
            "description": "Wrapper for math.exp."
        }
    ],
    "tests": [
        {
            "name": "-",
            "description": "-",
            "inputs": [
                {
                    "name": "-",
                    "value": "-"
                }
            ],
            "outputs": [
                {
                    "name": "-",
                    "value": "-"
                }
            ]
        }
    ],
    "comments": [
        {
            "comment": "Arrays are largely treated with 1-based indexing semantics (e.g., layer/node loops start at 1); inputs should provide arrays long enough to satisfy access up to numNodes+1."
        },
        {
            "comment": "ThermalConductance and shapeFactor intentionally overwrite their computed results with volumetricSpecificHeat(name, layer) to preserve original behavior noted in comments; this is likely a bug in the source."
        },
        {
            "comment": "Boundary layer conductance can be computed from wind and stability (boundarLayerConductanceSource='calc') or kept constant."
        },
        {
            "comment": "thermalConductivity is recalculated inside doProcess but not returned by soiltemperature_process; it is treated as an auxiliary input here."
        },
        {
            "comment": "soilConstituentNames is a list of strings although datatype field only supports scalar CHAR; represented as CHAR with note here."
        },
        {
            "comment": "Boolean doInitialisationStuff is represented as INT (0/1) due to available datatype set."
        },
        {
            "comment": "instrumentHeight initialization uses getIniVariables(instrumentHeight, instrumHeight, defaultInstrumentHeight) with local instrumHeight defaulting to 0; instrumentHeight thus typically equals defaultInstrumentHeight."
        },
        {
            "comment": "Units for some water balance inputs (Eo, Eos, Es, SW) are not explicit in code; left unspecified."
        },
        {
            "comment": "internalTimeStep is computed as round(timestep/48) inside doProcess; outputs reflect the updated value."
        }
    ]
}