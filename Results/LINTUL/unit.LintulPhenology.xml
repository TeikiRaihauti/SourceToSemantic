<?xml version="1.0" ?>
<ModelUnit modelid=".LintulPhenology (SIMPLACE LINTUL component)" name="LintulPhenology (SIMPLACE LINTUL component)" timestep="1" version="-">
	<Description>
		<Title>LintulPhenology (SIMPLACE LINTUL component)</Title>
		<Authors>Gunther Krauss; Andreas Enders; Thomas Gaiser</Authors>
		<Institution>Crop Science Group, University of Bonn, Katzenburgweg 5, 53115 Bonn, Germany</Institution>
		<URI>http://www.simplace.net; package: net.simplace.sim.components.models.lintul.LintulPhenology</URI>
		<Reference>-</Reference>
		<ExtendedDescription>LintulPhenology is a SIMPLACE component implementing LINTUL-style phenology. It computes crop development stage (DevStage) from thermal time and determines dates/DOY for key phenological events (sowing, emergence, anthesis, milk ripeness, maturity). Before anthesis, daily effective temperature (iRTEFFAnt) accumulates temperature sum (TSUM) toward a user-defined air temperature sum to anthesis (cAirTemperatureSumAnthesis), with DevStage = TSUM / cAirTemperatureSumAnthesis. After anthesis, effective temperature (iRTEFFMat) accumulates toward maturity (cAirTemperatureSumMaturity), with DevStage = 1 + (TSUM − cAirTemperatureSumAnthesis) / (cAirTemperatureSumMaturity − cAirTemperatureSumAnthesis). Emergence occurs a fixed number of days after sowing (cRelativeDayOfEmergence). The component outputs event flags and timestamps for Sowing/Emergence/Anthesis/Milkripeness/Maturity, daily development rate, and maintains a crop cycle counter that increments on harvest. Licensed under GNU LGPLv3. References: Goudriaan &amp; Van Laar (1994) Modelling Potential Crop Growth Processes, Kluwer Academic Publishers. More information: http://www.simplace.net</ExtendedDescription>
		<ShortDescription>SIMPLACE component that calculates crop phenological development and event dates using LINTUL thermal time.</ShortDescription>
	</Description>
	<Inputs>
		<Input name="cAirTemperatureSumAnthesis" description="Thermal time from emergence to anthesis" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" max="5000" min="0" default="650" unit="degC day" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius_day"/>
		<Input name="cAirTemperatureSumMilkripeness" description="Thermal time to milkripeness (optional)" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" max="7000" min="0" default="-" unit="degC day" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius_day"/>
		<Input name="cAirTemperatureSumMaturity" description="Thermal time from emergence to maturity" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" max="10000" min="0" default="1350" unit="degC day" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius_day"/>
		<Input name="cRelativeDayOfEmergence" description="Days between sowing and emergence" inputtype="parameter" parametercategory="constant" datatype="INT" max="366" min="0" default="11" unit="day" uri="http://www.wurvoc.org/vocabularies/om-1.8/day"/>
		<Input name="iRTEFFAnt" description="Daily effective temperature before anthesis" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="40" min="0" default="0" unit="degC" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"/>
		<Input name="iRTEFFMat" description="Daily effective temperature after anthesis" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="40" min="0" default="0" unit="degC" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"/>
		<Input name="iDoSow" description="true at the day of sowing" inputtype="variable" variablecategory="exogenous" datatype="CHAR" max="-" min="-" default="false" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Input name="iDoHarvest" description="true at the day of harvest" inputtype="variable" variablecategory="exogenous" datatype="CHAR" max="-" min="-" default="false" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Input name="sDevStage" description="Development stage of the crop (1.0=anthesis, 2.0=physiological maturity)" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="0" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Input name="sTSUM" description="Accumulated effective temperature after emergence" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="10000" min="0" default="0" unit="degC day" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius_day"/>
	</Inputs>
	<Outputs>
		<Output name="sDevStage" description="Development stage after update" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="sTSUM" description="Accumulated effective temperature after emergence (updated)" variablecategory="state" datatype="DOUBLE" max="10000" min="0" unit="degC day" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius_day"/>
		<Output name="rDevStageRate" description="Increment of development stage" variablecategory="auxiliary" datatype="DOUBLE" max="-" min="0" unit="1/day" uri="http://www.wurvoc.org/vocabularies/om-1.8/reciprocal_day"/>
		<Output name="SowingDate" description="Date of sowing" variablecategory="auxiliary" datatype="DATE" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="EmergenceDate" description="Date of emergence" variablecategory="auxiliary" datatype="DATE" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="MilkripenessDate" description="Date of milkripeness" variablecategory="auxiliary" datatype="DATE" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="AnthesisDate" description="Date of anthesis" variablecategory="auxiliary" datatype="DATE" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="MaturityDate" description="Date of maturity" variablecategory="auxiliary" datatype="DATE" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="SowingDOY" description="DOY of sowing" variablecategory="auxiliary" datatype="INT" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="EmergenceDOY" description="DOY of emergence" variablecategory="auxiliary" datatype="INT" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="MilkripenessDOY" description="DOY of milkripeness" variablecategory="auxiliary" datatype="INT" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="AnthesisDOY" description="DOY of anthesis" variablecategory="auxiliary" datatype="INT" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="MaturityDOY" description="DOY of maturity" variablecategory="auxiliary" datatype="INT" max="-" min="-" unit="-" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="IsSowing" description="true at the sowing date" variablecategory="auxiliary" datatype="CHAR" max="-" min="-" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="IsEmergence" description="true at the emergence date" variablecategory="auxiliary" datatype="CHAR" max="-" min="-" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="IsAnthesis" description="true at the anthesis date" variablecategory="auxiliary" datatype="CHAR" max="-" min="-" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="IsMilkripeness" description="true at the milkripeness date" variablecategory="auxiliary" datatype="CHAR" max="-" min="-" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="IsMaturity" description="true at the maturity date" variablecategory="auxiliary" datatype="CHAR" max="-" min="-" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="IsPhenologyEvent" description="true if either sowing/emergence/anthesis/milkripeness/maturity occurred" variablecategory="auxiliary" datatype="CHAR" max="-" min="-" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="CropCycleCount" description="Number of growth periods, incremented on harvest" variablecategory="state" datatype="INT" max="100" min="0" unit="one" uri="http://www.wurvoc.org/vocabularies/om-1.8/one"/>
		<Output name="RTEFF" description="Daily effective temperature used for TSUM and DevStage" variablecategory="auxiliary" datatype="DOUBLE" max="40" min="0" unit="degC" uri="http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"/>
	</Outputs>
	<Initialization name="init" language="cyml" filename="algo/pyx/init.pyx"/>
	<Function name="resetStates" description="Reset development stage, RTEFF, TSUM and all phenology dates to defaults." language="cyml" type="external" filename="algo/pyx/resetStates.pyx"/>
	<Algorithm language="cyml" platform="" filename="algo/pyx/process.pyx"/>
	<Parametersets/>
	<Testsets>
		<Testset name="t_-" description="-">
			<Test name="t_-">
				<OutputValue name="-">-</OutputValue>
			</Test>
		</Testset>
	</Testsets>
</ModelUnit>
