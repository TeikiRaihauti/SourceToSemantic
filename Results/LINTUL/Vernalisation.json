{
    "init": {
        "name": "init"
    },
    "process": {
        "name": "process",
        "description": "Computes daily vernalisation increment and factor from temperature; resets on sowing; scales daily effective temperature (RTSUM) by min(photo-period factor, vernalisation factor) using stage-specific bases."
    },
    "inputs": [
        {
            "name": "cApplyVernalisation",
            "description": "Flag to activate vernalisation (crops requiring vernalisation for flower initialization).",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "true",
            "unit": "-",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "cVernalDaysMin",
            "description": "Crop specific minimum number of days required for vernalisation.",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "10",
            "unit": "d",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "cVernalDaysMax",
            "description": "Crop specific maximum number of days required for vernalisation.",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "400",
            "default": "70",
            "unit": "d",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "cTlow",
            "description": "Lower temperature threshold for vernalisation; days with lower mean air temperature are not fully considered as a vernalisation day.",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-40",
            "max": "50",
            "default": "3",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "cThigh",
            "description": "Upper temperature threshold for vernalisation; days with higher mean air temperature are not fully considered as a vernalisation day.",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-40",
            "max": "50",
            "default": "10",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "cTlowCritical",
            "description": "Lower critical temperature threshold for vernalisation; days below do not contribute at all.",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-40",
            "max": "50",
            "default": "-4",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "cThighCritical",
            "description": "Upper critical temperature threshold for vernalisation; days above do not contribute at all.",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-40",
            "max": "50",
            "default": "17",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "iDoSow",
            "description": "True if sowing day (resets sVernalDays).",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "false",
            "unit": "-",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "iPhotoPeriodFactor",
            "description": "Photoperiod response factor.",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "-",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "iDAVTMP",
            "description": "Daily mean air temperature.",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "50",
            "default": "-",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "iTSumBaseAnt",
            "description": "Daily effective temperature before anthesis.",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "10000",
            "default": "-",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "iTSumBaseShoot",
            "description": "Daily effective temperature after shooting (if given).",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "10000",
            "default": "-",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "iDevStageBaseShoot",
            "description": "Development stage threshold for base shoot.",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "10000",
            "default": "0.5",
            "unit": "-",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "iTSumBaseMat",
            "description": "Daily effective temperature after anthesis.",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "10000",
            "default": "-",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        },
        {
            "name": "iDevStage",
            "description": "Development stage of the crop (1.0=anthesis, 2.0=physiological maturity).",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "3",
            "default": "-",
            "unit": "-",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "sVernalDays",
            "description": "Actual vernalisation days (state).",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "400",
            "default": "0",
            "unit": "d",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        }
    ],
    "outputs": [
        {
            "name": "sVernalDays",
            "description": "Updated accumulated vernalisation days.",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "400",
            "default": "0",
            "unit": "d",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "DayLength",
            "description": "Day length in minutes.",
            "datatype": "INT",
            "category": "auxiliary",
            "len": "-",
            "min": "0",
            "max": "1441",
            "default": "0",
            "unit": "min",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/minute-time"
        },
        {
            "name": "VernalisationFactor",
            "description": "Daily vernalisation factor.",
            "datatype": "DOUBLE",
            "category": "auxiliary",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "0",
            "unit": "-",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/one"
        },
        {
            "name": "RTSUM",
            "description": "Daily effective temperature used to calculate the temperature sum and development stage.",
            "datatype": "DOUBLE",
            "category": "auxiliary",
            "len": "-",
            "min": "0",
            "max": "50",
            "default": "-",
            "unit": "degC",
            "uri": "http://www.wurvoc.org/vocabularies/om-1.8/degree_Celsius"
        }
    ],
    "functions": [
        {
            "name": "reset",
            "description": "Reset on sowing: runs init checks and sets sVernalDays to 0."
        }
    ],
    "tests": [
        {
            "name": "-",
            "description": "-",
            "inputs": [
                {
                    "name": "-",
                    "value": "-"
                }
            ],
            "outputs": [
                {
                    "name": "-",
                    "value": "-"
                }
            ]
        }
    ],
    "comments": [
        {
            "comment": "Booleans are mapped to CHAR (true/false) due to allowed datatypes. iDevStageBaseShoot is an input (not a parameter). Ranges, defaults, and URIs follow the source code. sVernalDays is included as both input (state carryover) and output (updated). DayLength, VernalisationFactor, and RTSUM are outputs per code; DayLength is defined but not used in processing."
        }
    ]
}