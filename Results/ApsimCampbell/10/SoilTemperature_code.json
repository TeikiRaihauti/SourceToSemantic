{
    "init": {
        "name": "soil_temperature_initialize"
    },
    "process": {
        "name": "soil_temperature_process",
        "description": "Simulates one day of soil temperatures via sub-daily timesteps solving the 1D heat equation with radiation and boundary-layer exchange."
    },
    "inputs": [
        {
            "name": "physical_Thickness",
            "description": "Soil layer thicknesses",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "physical_BD",
            "description": "Soil bulk density per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "g/cm3",
            "uri": "-"
        },
        {
            "name": "physical_Rocks",
            "description": "Rock fraction per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeSand",
            "description": "Sand fraction per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeSilt",
            "description": "Silt fraction per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeClay",
            "description": "Clay fraction per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "organic_Carbon",
            "description": "Organic carbon per layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "waterBalance_SW",
            "description": "Soil water content per layer (volumetric)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLELIST",
            "len": "numLayers",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "mm/mm",
            "uri": "-"
        },
        {
            "name": "waterBalance_Eos",
            "description": "Potential soil evaporation (open surface)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "waterBalance_Eo",
            "description": "Potential evaporation reference",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "waterBalance_Es",
            "description": "Actual soil evaporation",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "waterBalance_Salb",
            "description": "Soil albedo",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "microClimate_CanopyHeight",
            "description": "Canopy height",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "weather_Tav",
            "description": "Average annual soil/air temperature (site)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_Amp",
            "description": "Annual temperature amplitude (site)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_MinT",
            "description": "Daily minimum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_MaxT",
            "description": "Daily maximum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_MeanT",
            "description": "Daily mean air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_AirPressure",
            "description": "Air pressure",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "hPa",
            "uri": "-"
        },
        {
            "name": "weather_Latitude",
            "description": "Latitude of site",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-90",
            "max": "90",
            "default": "-",
            "unit": "degrees",
            "uri": "-"
        },
        {
            "name": "weather_Radn",
            "description": "Daily global radiation",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "MJ/m2",
            "uri": "-"
        },
        {
            "name": "weather_Wind",
            "description": "Wind speed at instrument height",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m/s",
            "uri": "-"
        },
        {
            "name": "clock_Today_DayOfYear",
            "description": "Day of year",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "366",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "DepthToConstantTemperature",
            "description": "Depth to constant temperature boundary",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "10000.0",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "initial_values",
            "description": "Optional initial soil temperatures per soil node (starting at topsoil node)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "optional",
            "min": "-",
            "max": "-",
            "default": "None",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "instrumHeight",
            "description": "Optional instrument (wind) height; if <= 0 uses default",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0.0",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "nu",
            "description": "Implicitness factor (Crank–Nicolson weight)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "0.6",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "boundarLayerConductanceSource",
            "description": "Source for boundary layer conductance: 'calc' or 'constant'",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "calc",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "netRadiationSource",
            "description": "Source for net radiation: 'calc' or 'latent'",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "calc",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "numNodes",
            "description": "Total computational nodes (layers + phantom nodes)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "numLayers",
            "description": "Number of soil layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "nodeDepth",
            "description": "Node depths including phantom and air/surface nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "thermCondPar1",
            "description": "Campbell thermal conductivity coefficient C1 per element/node",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermCondPar2",
            "description": "Campbell thermal conductivity coefficient C2 per element/node",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermCondPar3",
            "description": "Campbell thermal conductivity coefficient C3 per element/node",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermCondPar4",
            "description": "Campbell thermal conductivity coefficient C4 per element/node",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat per node (mapped to nodes)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "J/m3/K",
            "uri": "-"
        },
        {
            "name": "soilTemp",
            "description": "Soil temperatures at nodes (includes air and surface nodes)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "morningSoilTemp",
            "description": "Snapshot of soil temperatures near 5 AM",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "heatStorage",
            "description": "Heat storage term per node for solver",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermalConductance",
            "description": "Element thermal conductance values",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "K/W",
            "uri": "-"
        },
        {
            "name": "thermalConductivity",
            "description": "Thermal conductivity at nodes (air node stores boundary-layer value)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "K.m/W",
            "uri": "-"
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Daily-average boundary layer conductance proxy (accumulated)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "newTemperature",
            "description": "Working array for updated node temperatures",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxTempYesterday",
            "description": "Yesterday's maximum air temperature (for diurnal interpolation)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "minTempYesterday",
            "description": "Yesterday's minimum air temperature (for diurnal interpolation)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "soilWater",
            "description": "Soil water content profile including phantom nodes",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "mm/mm",
            "uri": "-"
        },
        {
            "name": "minSoilTemp",
            "description": "Daily minimum soil temperature per node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxSoilTemp",
            "description": "Daily maximum soil temperature per node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "aveSoilTemp",
            "description": "Daily average soil temperature per node (accumulated)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "thickness",
            "description": "Layer thickness with phantom layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "bulkDensity",
            "description": "Bulk density with phantom layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "g/cm3",
            "uri": "-"
        },
        {
            "name": "rocks",
            "description": "Rock fraction profile including phantom layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "carbon",
            "description": "Organic carbon profile including phantom layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "sand",
            "description": "Sand fraction profile including phantom layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "silt",
            "description": "Silt fraction profile including phantom layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "clay",
            "description": "Clay fraction profile including phantom layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "%",
            "uri": "-"
        },
        {
            "name": "soilRoughnessHeight",
            "description": "Bare soil surface roughness height",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "57.0",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "instrumentHeight",
            "description": "Instrument height used during process (updated to be >= canopy+0.5 m)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "canopyHeight",
            "description": "Canopy height used during process (in meters)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "netRadiation",
            "description": "Net radiation at soil surface (carried between timesteps)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "MJ/m2",
            "uri": "-"
        },
        {
            "name": "timestep",
            "description": "External time step length",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": ">0",
            "max": "-",
            "default": "86400.0",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "defaultTimeOfMaximumTemperature",
            "description": "Hour of day for maximum temperature (local solar time)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "24",
            "default": "14.0",
            "unit": "hours",
            "uri": "-"
        }
    ],
    "outputs": [
        {
            "name": "soilTemp",
            "description": "Updated soil temperatures at nodes",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "minSoilTemp",
            "description": "Daily minimum soil temperatures per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxSoilTemp",
            "description": "Daily maximum soil temperatures per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "aveSoilTemp",
            "description": "Daily average soil temperatures per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Average boundary layer conductance proxy for the day",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermalConductivity",
            "description": "Thermal conductivity at nodes (air node stores boundary-layer value)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "K.m/W",
            "uri": "-"
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "J/m3/K",
            "uri": "-"
        },
        {
            "name": "heatStorage",
            "description": "Heat storage term per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numNodes+1",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermalConductance",
            "description": "Element thermal conductance values",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "K/W",
            "uri": "-"
        },
        {
            "name": "newTemperature",
            "description": "New node temperatures after solver step",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "morningSoilTemp",
            "description": "Soil temperatures captured near 5 AM",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numNodes+2",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxTempYesterday",
            "description": "Carried-over daily max air temperature (yesterday)",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "minTempYesterday",
            "description": "Carried-over daily min air temperature (yesterday)",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "instrumentHeight",
            "description": "Updated instrument height",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "canopyHeight",
            "description": "Updated canopy height (m)",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "netRadiation",
            "description": "Net radiation at last sub-daily step",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "MJ/m2",
            "uri": "-"
        },
        {
            "name": "soilWater",
            "description": "Updated soil water content profile (mutated in-place)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "numLayers+6",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "mm/mm",
            "uri": "-"
        }
    ],
    "functions": [
        {
            "name": "volumetricSpecificHeat",
            "description": "Returns volumetric specific heat (MJ/m3/K) for a soil constituent."
        },
        {
            "name": "ThermalConductance",
            "description": "Returns thermal conductance for a constituent (overwritten to volumetricSpecificHeat as per original)."
        },
        {
            "name": "shapeFactor",
            "description": "Computes shape factor for constituents (returns volumetricSpecificHeat as per original)."
        },
        {
            "name": "volumetricFractionRocks",
            "description": "Volume fraction of rocks."
        },
        {
            "name": "volumetricFractionOrganicMatter",
            "description": "Volume fraction of organic matter from carbon and bulk density."
        },
        {
            "name": "volumetricFractionSand",
            "description": "Volume fraction of sand."
        },
        {
            "name": "volumetricFractionSilt",
            "description": "Volume fraction of silt."
        },
        {
            "name": "volumetricFractionClay",
            "description": "Volume fraction of clay."
        },
        {
            "name": "volumetricFractionWater",
            "description": "Volume fraction of water adjusted for organic matter."
        },
        {
            "name": "volumetricFractionIce",
            "description": "Volume fraction of ice (returns 0)."
        },
        {
            "name": "volumetricFractionAir",
            "description": "Volume fraction of air as residual."
        },
        {
            "name": "airDensity",
            "description": "Computes air density from temperature and pressure."
        },
        {
            "name": "doThermalConductivityCoeffs",
            "description": "Computes Campbell thermal conductivity coefficients C1..C4."
        },
        {
            "name": "doVolumetricSpecificHeat",
            "description": "Computes volumetric specific heat per node and maps to nodes."
        },
        {
            "name": "doThermalConductivity",
            "description": "Computes thermal conductivity per node and maps to nodes."
        },
        {
            "name": "mapLayer2Node",
            "description": "Maps layer-centered values to nodes via weighted averaging."
        },
        {
            "name": "doThomas",
            "description": "Tri-diagonal solver for heat diffusion with surface/bottom boundary conditions."
        },
        {
            "name": "interpolateTemperature",
            "description": "Interpolates diurnal air temperature."
        },
        {
            "name": "doUpdate",
            "description": "Updates daily min/max/average temps and boundary layer conductance; copies new to old."
        },
        {
            "name": "getBoundaryLayerConductance",
            "description": "Computes boundary layer conductance from Monin–Obukhov similarity with radiative term."
        },
        {
            "name": "kelvinT",
            "description": "Converts Celsius to Kelvin."
        },
        {
            "name": "longWaveRadn",
            "description": "Computes longwave radiation using Stefan–Boltzmann law."
        },
        {
            "name": "calcSoilTemperature",
            "description": "Initialises soil temperature profile from seasonal sinusoid."
        },
        {
            "name": "calcSurfaceTemperature",
            "description": "Estimates surface temperature from radiation, mean and max T, and albedo."
        },
        {
            "name": "doNetRadiation",
            "description": "Partitions daily radiation into sub-daily shortwave and derives cloud factor and cva."
        },
        {
            "name": "interpolateNetRadiation",
            "description": "Computes net radiation for a sub-daily step including longwave and shortwave terms."
        },
        {
            "name": "Divide",
            "description": "Safe division with error value if denominator is zero."
        },
        {
            "name": "ValuesInArray",
            "description": "Checks if an array has any non-NaN values."
        },
        {
            "name": "Sum",
            "description": "Sum with 1-based bounds and ignoring sentinel 999999."
        },
        {
            "name": "Zero",
            "description": "Zeros an array in-place."
        },
        {
            "name": "ToCumThickness",
            "description": "Computes cumulative thickness."
        }
    ],
    "tests": [
        {
            "name": "-",
            "description": "-",
            "inputs": [
                {
                    "name": "-",
                    "value": "-"
                }
            ],
            "outputs": [
                {
                    "name": "-",
                    "value": "-"
                }
            ]
        }
    ],
    "comments": [
        {
            "comment": "Arrays use 1-based indexing for soil layers/nodes (with phantom nodes) as per original; sizes reflect numLayers + 5 phantom nodes and extra alignment."
        },
        {
            "comment": "ThermalConductance and shapeFactor replicate an apparent original issue: both overwrite their computed results with volumetricSpecificHeat before returning."
        },
        {
            "comment": "soilWater is updated in-place in the process but not returned; included as an output to respect 'state variable is always an input and an output'."
        },
        {
            "comment": "thermCondPar1..4 are produced in init but not used in the process step."
        },
        {
            "comment": "doNetRadiation computes cva with a placeholder due to missing MinT in scope; preserved from the provided source."
        },
        {
            "comment": "Units for thermalConductivity/thermalConductance follow the source comments (K.m/W and K/W), although these differ from conventional W/m/K; retained verbatim."
        }
    ]
}