<?xml version="1.0" ?>
<ModelUnit modelid=".SoilTemperature" name="SoilTemperature" timestep="1" version="-">
	<Description>
		<Title>SoilTemperature</Title>
		<Authors>-</Authors>
		<Institution>-</Institution>
		<URI>-</URI>
		<Reference>-</Reference>
		<ExtendedDescription>Simulates soil temperature over a 1-D profile including the surface and several phantom nodes below the profile. The approach follows Campbell (1985): layers are mapped to temperature nodes, volumetric heat capacity and thermal conductivity are derived from soil constituents and water content, and heat flow is solved each sub-daily timestep with an implicit tri-diagonal (Thomas) algorithm using a nu weighting (Crank–Nicholson-like) scheme. The surface energy balance includes net shortwave/longwave radiation, sensible and latent heat, with optional calculation of atmospheric boundary-layer conductance using wind, canopy height, and stability corrections. Air temperature and net radiation are interpolated intra-day from daily weather. The component integrates with APSIM weather, soil physical, organic matter, and soil water modules.</ExtendedDescription>
		<ShortDescription>1-D soil temperature model with atmospheric coupling and sub-daily heat flow based on Campbell (1985).</ShortDescription>
	</Description>
	<Inputs>
		<Input name="physical_Thickness" description="Soil layer thicknesses" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="mm" uri="-"/>
		<Input name="physical_BD" description="Soil bulk density by layer" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="physical_Rocks" description="Rock fragment percentage by layer" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="physical_ParticleSizeSand" description="Sand fraction percentage by layer" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="physical_ParticleSizeSilt" description="Silt fraction percentage by layer" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="physical_ParticleSizeClay" description="Clay fraction percentage by layer" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="organic_Carbon" description="Organic carbon percentage by layer" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="waterBalance_SW" description="Volumetric soil water content by layer" inputtype="variable" variablecategory="exogenous" datatype="DOUBLELIST" len="-" max="1" min="0" default="-" unit="-" uri="-"/>
		<Input name="waterBalance_Es" description="Soil evaporation rate" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="waterBalance_Eos" description="Potential soil evaporation (bare soil)" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="waterBalance_Eo" description="Potential evapotranspiration" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="waterBalance_Salb" description="Bare-soil albedo" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="1" min="0" default="-" unit="-" uri="-"/>
		<Input name="weather_Tav" description="Average annual soil surface temperature baseline" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="weather_Amp" description="Annual temperature amplitude at soil surface" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="100" min="0" default="-" unit="degC" uri="-"/>
		<Input name="weather_Latitude" description="Site latitude" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="90" min="-90" default="-" unit="deg" uri="-"/>
		<Input name="weather_MeanT" description="Daily mean air temperature" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="weather_MaxT" description="Daily maximum air temperature" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="weather_MinT" description="Daily minimum air temperature" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="weather_Radn" description="Daily incoming shortwave radiation" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="-" min="0" default="-" unit="MJ m-2 d-1" uri="-"/>
		<Input name="weather_AirPressure" description="Air pressure" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="-" min="0" default="-" unit="hPa" uri="-"/>
		<Input name="weather_Wind" description="Wind speed at instrument height" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="-" min="0" default="-" unit="m s-1" uri="-"/>
		<Input name="clock_Today_DayOfYear" description="Day of year" inputtype="variable" variablecategory="exogenous" datatype="INT" max="366" min="1" default="-" unit="day" uri="-"/>
		<Input name="microClimate_CanopyHeight" description="Canopy height" inputtype="variable" variablecategory="exogenous" datatype="DOUBLE" max="-" min="0" default="-" unit="mm" uri="-"/>
		<Input name="instrumHeight" description="Instrument height above ground (optional override)" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" max="-" min="0" default="-" unit="m" uri="-"/>
		<Input name="DepthToConstantTemperature" description="Depth to lower boundary with constant temperature" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" max="-" min="0" default="10000.0" unit="mm" uri="-"/>
		<Input name="InitialValues" description="Optional initial soil temperature profile for layers (topsoil node onwards)" inputtype="parameter" parametercategory="constant" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="defaultTimeOfMaximumTemperature" description="Default hour of day of maximum air temperature" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" max="24" min="0" default="14.0" unit="h" uri="-"/>
		<Input name="timestep_seconds" description="External model time step" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" max="-" min="1" default="86400.0" unit="s" uri="-"/>
		<Input name="doInitialisationStuff" description="Flag to run one-time initialization in first process call" inputtype="variable" variablecategory="state" datatype="CHAR" max="-" min="-" default="True" unit="-" uri="-"/>
		<Input name="internalTimeStep" description="Internal integration time step (seconds)" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="0.0" unit="s" uri="-"/>
		<Input name="timeOfDaySecs" description="Current internal time-of-day seconds within daily loop" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="86400" min="0" default="0.0" unit="s" uri="-"/>
		<Input name="numNodes" description="Total number of temperature nodes (layers plus phantom nodes)" inputtype="variable" variablecategory="state" datatype="INT" max="-" min="1" default="-" unit="-" uri="-"/>
		<Input name="numLayers" description="Number of soil layers in profile" inputtype="variable" variablecategory="state" datatype="INT" max="-" min="1" default="-" unit="-" uri="-"/>
		<Input name="nodeDepth" description="Depth of each node center from surface" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="m" uri="-"/>
		<Input name="thermCondPar1" description="Thermal conductivity empirical parameter 1 per element" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" default="-" unit="-" uri="-"/>
		<Input name="thermCondPar2" description="Thermal conductivity empirical parameter 2 per element" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" default="-" unit="-" uri="-"/>
		<Input name="thermCondPar3" description="Thermal conductivity empirical parameter 3 per element" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" default="-" unit="-" uri="-"/>
		<Input name="thermCondPar4" description="Thermal conductivity empirical parameter 4 per element" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" default="-" unit="-" uri="-"/>
		<Input name="volSpecHeatSoil" description="Volumetric specific heat profile at nodes" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="soilTemp" description="Soil temperature at nodes including air and surface nodes" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="morningSoilTemp" description="Snapshot of soil temperature profile around 5 AM for diagnostics" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="heatStorage" description="Node heat storage term (volumetric heat capacity times volume per time step)" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="thermalConductance" description="Node conductance (conductivity divided by element length)" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="thermalConductivity" description="Thermal conductivity profile mapped to nodes including surface/air node" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="boundaryLayerConductance" description="Daily-averaged atmospheric boundary layer conductance at surface node" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="0.0" unit="-" uri="-"/>
		<Input name="newTemperature" description="Working array for new temperature solution at nodes" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="airTemperature" description="Current air node temperature used as boundary condition" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="100" min="-100" default="0.0" unit="degC" uri="-"/>
		<Input name="maxTempYesterday" description="Yesterday's maximum air temperature for diurnal interpolation" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="minTempYesterday" description="Yesterday's minimum air temperature for diurnal interpolation" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="soilWater" description="Node or layer soil water content used in heat capacity/conductivity" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="1" min="0" default="-" unit="-" uri="-"/>
		<Input name="minSoilTemp" description="Daily minimum soil temperature per node (accumulator)" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="maxSoilTemp" description="Daily maximum soil temperature per node (accumulator)" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="aveSoilTemp" description="Daily average soil temperature per node (accumulator)" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="thickness" description="Layer thickness array with phantom layers appended" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="mm" uri="-"/>
		<Input name="bulkDensity" description="Bulk density array with phantom layers appended" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" default="-" unit="-" uri="-"/>
		<Input name="rocks" description="Rock fragment percentage with phantom layers appended" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="carbon" description="Organic carbon percentage with phantom layers appended" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="sand" description="Sand percentage with phantom layers appended" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="silt" description="Silt percentage with phantom layers appended" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="clay" description="Clay percentage with phantom layers appended" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" default="-" unit="%" uri="-"/>
		<Input name="soilRoughnessHeight" description="Soil surface roughness height used to bound canopy height minimum" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="57.0" unit="mm" uri="-"/>
		<Input name="instrumentHeight" description="Instrument height used for micrometeorological calculations" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0.5" default="1.2" unit="m" uri="-"/>
		<Input name="netRadiation" description="Net radiation at soil surface per internal step (accumulator/last value)" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="-" default="0.0" unit="-" uri="-"/>
		<Input name="canopyHeight" description="Effective canopy height used in aerodynamic calculations" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="0.0" unit="m" uri="-"/>
		<Input name="instrumHeight" description="Original instrument height input stored in state" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="0.0" unit="m" uri="-"/>
		<Input name="nu" description="Crank–Nicolson weighting factor for implicit scheme" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="1" min="0" default="0.6" unit="-" uri="-"/>
		<Input name="boundarLayerConductanceSource" description="Source mode for boundary layer conductance (calc or constant)" inputtype="variable" variablecategory="state" datatype="CHAR" max="-" min="-" default="calc" unit="-" uri="-"/>
		<Input name="netRadiationSource" description="Source mode for net radiation (calc or Eos-derived)" inputtype="variable" variablecategory="state" datatype="CHAR" max="-" min="-" default="calc" unit="-" uri="-"/>
		<Input name="InitialValues" description="Stored initial layer temperatures (if provided)" inputtype="variable" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" default="-" unit="degC" uri="-"/>
		<Input name="defaultTimeOfMaximumTemperature" description="Stored default hour of maximum air temperature" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="24" min="0" default="14.0" unit="h" uri="-"/>
		<Input name="DepthToConstantTemperature" description="Stored lower boundary depth with constant temperature" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="10000.0" unit="mm" uri="-"/>
		<Input name="timestep" description="Stored external model time step used internally" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="1" default="86400.0" unit="s" uri="-"/>
		<Input name="pom" description="Particle organic matter density parameter" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="1.3" unit="-" uri="-"/>
		<Input name="ps" description="Particle solid density parameter (minerals)" inputtype="variable" variablecategory="state" datatype="DOUBLE" max="-" min="0" default="2.63" unit="-" uri="-"/>
		<Input name="soilConstituentNames" description="List of soil constituent names for mixture rules" inputtype="variable" variablecategory="state" datatype="CHAR" max="-" min="-" default="['Rocks','OrganicMatter','Sand','Silt','Clay','Water','Ice','Air']" unit="-" uri="-"/>
	</Inputs>
	<Outputs>
		<Output name="doInitialisationStuff" description="Flag to run one-time initialization in first process call" variablecategory="state" datatype="CHAR" max="-" min="-" unit="-" uri="-"/>
		<Output name="internalTimeStep" description="Internal integration time step (seconds)" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="s" uri="-"/>
		<Output name="timeOfDaySecs" description="Current internal time-of-day seconds within daily loop" variablecategory="state" datatype="DOUBLE" max="86400" min="0" unit="s" uri="-"/>
		<Output name="nodeDepth" description="Depth of each node center from surface" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" unit="m" uri="-"/>
		<Output name="thermCondPar1" description="Thermal conductivity empirical parameter 1 per element" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" unit="-" uri="-"/>
		<Output name="thermCondPar2" description="Thermal conductivity empirical parameter 2 per element" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" unit="-" uri="-"/>
		<Output name="thermCondPar3" description="Thermal conductivity empirical parameter 3 per element" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" unit="-" uri="-"/>
		<Output name="thermCondPar4" description="Thermal conductivity empirical parameter 4 per element" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="-" unit="-" uri="-"/>
		<Output name="volSpecHeatSoil" description="Volumetric specific heat profile at nodes" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" unit="-" uri="-"/>
		<Output name="soilTemp" description="Soil temperature at nodes including air and surface nodes" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="morningSoilTemp" description="Snapshot of soil temperature profile around 5 AM for diagnostics" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="heatStorage" description="Node heat storage term (volumetric heat capacity times volume per time step)" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" unit="-" uri="-"/>
		<Output name="thermalConductance" description="Node conductance (conductivity divided by element length)" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" unit="-" uri="-"/>
		<Output name="thermalConductivity" description="Thermal conductivity profile mapped to nodes including surface/air node" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" unit="-" uri="-"/>
		<Output name="boundaryLayerConductance" description="Daily-averaged atmospheric boundary layer conductance at surface node" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="-" uri="-"/>
		<Output name="newTemperature" description="Working array for new temperature solution at nodes" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="airTemperature" description="Current air node temperature used as boundary condition" variablecategory="state" datatype="DOUBLE" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="maxTempYesterday" description="Yesterday's maximum air temperature for diurnal interpolation" variablecategory="state" datatype="DOUBLE" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="minTempYesterday" description="Yesterday's minimum air temperature for diurnal interpolation" variablecategory="state" datatype="DOUBLE" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="soilWater" description="Node or layer soil water content used in heat capacity/conductivity" variablecategory="state" datatype="DOUBLELIST" len="-" max="1" min="0" unit="-" uri="-"/>
		<Output name="minSoilTemp" description="Daily minimum soil temperature per node (accumulator)" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="maxSoilTemp" description="Daily maximum soil temperature per node (accumulator)" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="aveSoilTemp" description="Daily average soil temperature per node (accumulator)" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="thickness" description="Layer thickness array with phantom layers appended" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" unit="mm" uri="-"/>
		<Output name="bulkDensity" description="Bulk density array with phantom layers appended" variablecategory="state" datatype="DOUBLELIST" len="-" max="-" min="0" unit="-" uri="-"/>
		<Output name="rocks" description="Rock fragment percentage with phantom layers appended" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" unit="%" uri="-"/>
		<Output name="carbon" description="Organic carbon percentage with phantom layers appended" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" unit="%" uri="-"/>
		<Output name="sand" description="Sand percentage with phantom layers appended" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" unit="%" uri="-"/>
		<Output name="silt" description="Silt percentage with phantom layers appended" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" unit="%" uri="-"/>
		<Output name="clay" description="Clay percentage with phantom layers appended" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="0" unit="%" uri="-"/>
		<Output name="soilRoughnessHeight" description="Soil surface roughness height used to bound canopy height minimum" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="mm" uri="-"/>
		<Output name="instrumentHeight" description="Instrument height used for micrometeorological calculations" variablecategory="state" datatype="DOUBLE" max="-" min="0.5" unit="m" uri="-"/>
		<Output name="netRadiation" description="Net radiation at soil surface per internal step (accumulator/last value)" variablecategory="state" datatype="DOUBLE" max="-" min="-" unit="-" uri="-"/>
		<Output name="canopyHeight" description="Effective canopy height used in aerodynamic calculations" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="m" uri="-"/>
		<Output name="instrumHeight" description="Original instrument height input stored in state" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="m" uri="-"/>
		<Output name="nu" description="Crank–Nicolson weighting factor for implicit scheme" variablecategory="state" datatype="DOUBLE" max="1" min="0" unit="-" uri="-"/>
		<Output name="boundarLayerConductanceSource" description="Source mode for boundary layer conductance (calc or constant)" variablecategory="state" datatype="CHAR" max="-" min="-" unit="-" uri="-"/>
		<Output name="netRadiationSource" description="Source mode for net radiation (calc or Eos-derived)" variablecategory="state" datatype="CHAR" max="-" min="-" unit="-" uri="-"/>
		<Output name="InitialValues" description="Stored initial layer temperatures (if provided)" variablecategory="state" datatype="DOUBLELIST" len="-" max="100" min="-100" unit="degC" uri="-"/>
		<Output name="defaultTimeOfMaximumTemperature" description="Stored default hour of maximum air temperature" variablecategory="state" datatype="DOUBLE" max="24" min="0" unit="h" uri="-"/>
		<Output name="DepthToConstantTemperature" description="Stored lower boundary depth with constant temperature" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="mm" uri="-"/>
		<Output name="timestep" description="Stored external model time step used internally" variablecategory="state" datatype="DOUBLE" max="-" min="1" unit="s" uri="-"/>
		<Output name="pom" description="Particle organic matter density parameter" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="-" uri="-"/>
		<Output name="ps" description="Particle solid density parameter (minerals)" variablecategory="state" datatype="DOUBLE" max="-" min="0" unit="-" uri="-"/>
		<Output name="soilConstituentNames" description="List of soil constituent names for mixture rules" variablecategory="state" datatype="CHAR" max="-" min="-" unit="-" uri="-"/>
	</Outputs>
	<Initialization name="soiltemperature_initialize" language="cyml" filename="algo/pyx/soiltemperature_initialize.pyx"/>
	<Function name="Divide" description="Safe division with fallback value when divisor is zero." language="cyml" type="external" filename="algo/pyx/Divide.pyx"/>
	<Function name="ValuesInArray" description="Checks if an array contains any valid (non-sentinel) values." language="cyml" type="external" filename="algo/pyx/ValuesInArray.pyx"/>
	<Function name="Sum" description="Sums values in a list between start and end indices ignoring sentinel." language="cyml" type="external" filename="algo/pyx/Sum.pyx"/>
	<Function name="Zero" description="Sets all elements of an array to zero." language="cyml" type="external" filename="algo/pyx/Zero.pyx"/>
	<Function name="ToCumThickness" description="Computes cumulative thickness from layer thickness array." language="cyml" type="external" filename="algo/pyx/ToCumThickness.pyx"/>
	<Function name="kelvinT" description="Converts Celsius to Kelvin." language="cyml" type="external" filename="algo/pyx/kelvinT.pyx"/>
	<Function name="volumetricSpecificHeat" description="Returns constituent volumetric specific heat constant by name." language="cyml" type="external" filename="algo/pyx/volumetricSpecificHeat.pyx"/>
	<Function name="volumetricFractionRocks" description="Computes volumetric fraction of rocks by layer." language="cyml" type="external" filename="algo/pyx/volumetricFractionRocks.pyx"/>
	<Function name="volumetricFractionOrganicMatter" description="Computes volumetric fraction of organic matter by layer." language="cyml" type="external" filename="algo/pyx/volumetricFractionOrganicMatter.pyx"/>
	<Function name="volumetricFractionSand" description="Computes volumetric fraction of sand by layer." language="cyml" type="external" filename="algo/pyx/volumetricFractionSand.pyx"/>
	<Function name="volumetricFractionSilt" description="Computes volumetric fraction of silt by layer." language="cyml" type="external" filename="algo/pyx/volumetricFractionSilt.pyx"/>
	<Function name="volumetricFractionClay" description="Computes volumetric fraction of clay by layer." language="cyml" type="external" filename="algo/pyx/volumetricFractionClay.pyx"/>
	<Function name="volumetricFractionWater" description="Computes volumetric fraction of water by layer." language="cyml" type="external" filename="algo/pyx/volumetricFractionWater.pyx"/>
	<Function name="volumetricFractionIce" description="Returns volumetric fraction of ice (here 0)." language="cyml" type="external" filename="algo/pyx/volumetricFractionIce.pyx"/>
	<Function name="volumetricFractionAir" description="Computes volumetric fraction of air by layer as residue." language="cyml" type="external" filename="algo/pyx/volumetricFractionAir.pyx"/>
	<Function name="ThermalConductance" description="Returns thermal conductance parameter per constituent (preserving original behavior)." language="cyml" type="external" filename="algo/pyx/ThermalConductance.pyx"/>
	<Function name="shapeFactor" description="Returns shape factor per constituent (preserving original behavior)." language="cyml" type="external" filename="algo/pyx/shapeFactor.pyx"/>
	<Function name="airDensity" description="Computes air density from temperature and pressure." language="cyml" type="external" filename="algo/pyx/airDensity.pyx"/>
	<Function name="mapLayer2Node" description="Maps layer-based arrays to node-based arrays via depth-weighted interpolation." language="cyml" type="external" filename="algo/pyx/mapLayer2Node.pyx"/>
	<Function name="doThermalConductivityCoeffs" description="Computes empirical thermal conductivity coefficients per element." language="cyml" type="external" filename="algo/pyx/doThermalConductivityCoeffs.pyx"/>
	<Function name="calcSoilTemperature" description="Computes initial seasonal soil temperature profile by depth." language="cyml" type="external" filename="algo/pyx/calcSoilTemperature.pyx"/>
	<Function name="interpolateTemperature" description="Interpolates hourly air temperature over the diurnal cycle." language="cyml" type="external" filename="algo/pyx/interpolateTemperature.pyx"/>
	<Function name="longWaveRadn" description="Computes longwave radiation from emissivity and temperature." language="cyml" type="external" filename="algo/pyx/longWaveRadn.pyx"/>
	<Function name="doNetRadiation" description="Partitions daily radiation into sub-daily solar radiation and cloud factor." language="cyml" type="external" filename="algo/pyx/doNetRadiation.pyx"/>
	<Function name="interpolateNetRadiation" description="Computes net radiation at soil surface for an internal time step." language="cyml" type="external" filename="algo/pyx/interpolateNetRadiation.pyx"/>
	<Function name="calcSurfaceTemperature" description="Estimates soil surface temperature from albedo, mean and max air temperature, and radiation." language="cyml" type="external" filename="algo/pyx/calcSurfaceTemperature.pyx"/>
	<Function name="doVolumetricSpecificHeat" description="Computes node volumetric specific heat using constituent list and soil water." language="cyml" type="external" filename="algo/pyx/doVolumetricSpecificHeat.pyx"/>
	<Function name="doThermalConductivity" description="Computes node thermal conductivity using mixture rules and maps to nodes." language="cyml" type="external" filename="algo/pyx/doThermalConductivity.pyx"/>
	<Function name="doThomas" description="Thomas algorithm solver for 1D heat diffusion tridiagonal system with surface flux boundary." language="cyml" type="external" filename="algo/pyx/doThomas.pyx"/>
	<Function name="getBoundaryLayerConductance" description="Computes atmospheric boundary layer conductance with stability corrections." language="cyml" type="external" filename="algo/pyx/getBoundaryLayerConductance.pyx"/>
	<Function name="math_sin" description="Wrapper for math.sin." language="cyml" type="external" filename="algo/pyx/math_sin.pyx"/>
	<Function name="math_cos" description="Wrapper for math.cos." language="cyml" type="external" filename="algo/pyx/math_cos.pyx"/>
	<Function name="math_exp" description="Wrapper for math.exp." language="cyml" type="external" filename="algo/pyx/math_exp.pyx"/>
	<Function name="math_log" description="Wrapper for math.log." language="cyml" type="external" filename="algo/pyx/math_log.pyx"/>
	<Algorithm language="cyml" platform="" filename="algo/pyx/soiltemperature_process.pyx"/>
	<Parametersets/>
	<Testsets/>
</ModelUnit>
