{
    "init": {
        "name": "soil_temperature_init"
    },
    "process": {
        "name": "soil_temperature_process",
        "description": "Updates soil temperature profile using sub-daily energy balance and heat diffusion, updating state and diagnostics for one day."
    },
    "inputs": [
        {
            "name": "physical_Thickness",
            "description": "Soil layer thicknesses from surface to bottom",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "physical_BD",
            "description": "Soil bulk density by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "g/cm3",
            "uri": "-"
        },
        {
            "name": "physical_Rocks",
            "description": "Rock fragment content by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeSand",
            "description": "Sand percentage by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeSilt",
            "description": "Silt percentage by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "physical_ParticleSizeClay",
            "description": "Clay percentage by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "waterBalance_SW",
            "description": "Volumetric soil water content by layer",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "m3/m3",
            "uri": "-"
        },
        {
            "name": "organic_Carbon",
            "description": "Organic carbon content by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "weather_Tav",
            "description": "Mean annual/seasonal air temperature used for initialization",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_Amp",
            "description": "Annual/seasonal temperature amplitude used for initialization",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_Latitude",
            "description": "Site latitude",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-90",
            "max": "90",
            "default": "-",
            "unit": "degrees",
            "uri": "-"
        },
        {
            "name": "clock_Today_DayOfYear",
            "description": "Day of year at initialization",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "366",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "InitialValues",
            "description": "Optional initial layer temperatures (use 999999 for ignore)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "None",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "DepthToConstantTemperature",
            "description": "Depth to constant temperature boundary",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "10000.0",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "instrumHeight",
            "description": "Instrument height above ground for boundary layer calculations",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0.0",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "waterBalance_Es",
            "description": "Actual soil evaporation rate",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm/day",
            "uri": "-"
        },
        {
            "name": "waterBalance_Eos",
            "description": "Potential soil evaporation rate",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm/day",
            "uri": "-"
        },
        {
            "name": "waterBalance_Eo",
            "description": "Reference evapotranspiration",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm/day",
            "uri": "-"
        },
        {
            "name": "waterBalance_Salb",
            "description": "Soil albedo",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "microClimate_CanopyHeight",
            "description": "Canopy height used for boundary layer calculations",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "weather_Wind",
            "description": "Wind speed at instrument height",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m/s",
            "uri": "-"
        },
        {
            "name": "weather_AirPressure",
            "description": "Air pressure",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "hPa",
            "uri": "-"
        },
        {
            "name": "weather_Radn",
            "description": "Daily incoming shortwave radiation",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "MJ/m2/day",
            "uri": "-"
        },
        {
            "name": "weather_MeanT",
            "description": "Mean air temperature for the day",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_MaxT",
            "description": "Daily maximum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_MinT",
            "description": "Daily minimum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "clock_Today_DayOfYear",
            "description": "Day of year for the process step",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "366",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "weather_Tav_day",
            "description": "Mean temperature used within the process step",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "weather_Latitude_day",
            "description": "Latitude used within the process step",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-90",
            "max": "90",
            "default": "-",
            "unit": "degrees",
            "uri": "-"
        },
        {
            "name": "airNode",
            "description": "Index of the air node",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "surfaceNode",
            "description": "Index of the soil surface node",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "1",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "topsoilNode",
            "description": "Index of the first subsurface node",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "2",
            "max": "-",
            "default": "2",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "numPhantomNodes",
            "description": "Number of extra deep nodes appended to the profile",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "5",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "doInitialisationStuff",
            "description": "Flag to perform first-day initialization logic",
            "inputtype": "variable",
            "category": "state",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "True",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "internalTimeStep",
            "description": "Internal sub-daily time step",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0.0",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "timeOfDaySecs",
            "description": "Current time of day within the process loop",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "86400",
            "default": "0.0",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "numLayers",
            "description": "Number of soil layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "numNodes",
            "description": "Total heat nodes (layers + phantom nodes)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "nodeDepth",
            "description": "Node depths including air and phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat of soil at nodes",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "soilTemp",
            "description": "Current node temperatures",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "morningSoilTemp",
            "description": "Node temperatures captured near 5 AM",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "heatStorage",
            "description": "Heat storage term per node used in solver",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermalConductance",
            "description": "Thermal conductance between nodes used in solver",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermalConductivity",
            "description": "Effective thermal conductivity per node (and air node)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Daily-averaged boundary layer conductance over the day",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0.0",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "newTemperature",
            "description": "Working array for new temperatures in the solver",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "airTemperature",
            "description": "Current air node temperature",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxTempYesterday",
            "description": "Yesterday's maximum air temperature",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "minTempYesterday",
            "description": "Yesterday's minimum air temperature",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "soilWater",
            "description": "Current soil water content by layer (mapped to nodes as needed)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "m3/m3",
            "uri": "-"
        },
        {
            "name": "minSoilTemp",
            "description": "Minimum node temperature recorded for the day",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxSoilTemp",
            "description": "Maximum node temperature recorded for the day",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "aveSoilTemp",
            "description": "Average node temperature accumulated over the day",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "thickness",
            "description": "Internal thickness array including phantom node layers",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "bulkDensity",
            "description": "Internal bulk density array aligned with layers and phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "g/cm3",
            "uri": "-"
        },
        {
            "name": "rocks",
            "description": "Internal rock fraction array aligned with layers and phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "carbon",
            "description": "Internal organic carbon array aligned with layers and phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "sand",
            "description": "Internal sand percentage array aligned with layers and phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "silt",
            "description": "Internal silt percentage array aligned with layers and phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "clay",
            "description": "Internal clay percentage array aligned with layers and phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": "-"
        },
        {
            "name": "soilRoughnessHeight",
            "description": "Bare soil roughness height used as minimum canopy height",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "57.0",
            "unit": "mm",
            "uri": "-"
        },
        {
            "name": "instrumentHeight",
            "description": "Instrument height adjusted for canopy (stateful)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0.5",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "netRadiation",
            "description": "Net radiation at soil surface for current sub-step",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "0.0",
            "unit": "MJ/m2 per substep",
            "uri": "-"
        },
        {
            "name": "canopyHeight",
            "description": "Canopy height used in boundary layer dynamics (stateful copy)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "0.0",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "nu",
            "description": "Implicitness factor for Crank-Nicolson scheme",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "0.6",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "boundarLayerConductanceSource",
            "description": "Boundary layer conductance source (calc or constant)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "calc",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "netRadiationSource",
            "description": "Net radiation source (calc or eos)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "calc",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "defaultTimeOfMaximumTemperature",
            "description": "Default hour of maximum daily air temperature",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "24",
            "default": "14.0",
            "unit": "hours",
            "uri": "-"
        },
        {
            "name": "InitialValues",
            "description": "Initial layer temperatures as persisted in state after setup",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "None",
            "unit": "degC",
            "uri": "-"
        }
    ],
    "outputs": [
        {
            "name": "doInitialisationStuff",
            "description": "Flag cleared after first process call",
            "datatype": "CHAR",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "internalTimeStep",
            "description": "Internal sub-daily time step used in solver",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "timeOfDaySecs",
            "description": "Last sub-step time within the day",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "86400",
            "default": "-",
            "unit": "s",
            "uri": "-"
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat at nodes for current conditions",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "soilTemp",
            "description": "Final node temperatures at end of day",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "morningSoilTemp",
            "description": "Node temperatures captured near dawn",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "heatStorage",
            "description": "Heat storage per node from latest solve",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermalConductance",
            "description": "Thermal conductance values used in last solve",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "thermalConductivity",
            "description": "Thermal conductivity values per node including air node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Daily averaged boundary layer conductance",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "-",
            "uri": "-"
        },
        {
            "name": "newTemperature",
            "description": "Latest new temperature solution array",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "airTemperature",
            "description": "Air node temperature after final sub-step",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxTempYesterday",
            "description": "Stored yesterday's maximum air temperature",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "minTempYesterday",
            "description": "Stored yesterday's minimum air temperature",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "soilWater",
            "description": "Updated soil water content profile for the day",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "m3/m3",
            "uri": "-"
        },
        {
            "name": "minSoilTemp",
            "description": "Minimum node temperatures recorded over the day",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "maxSoilTemp",
            "description": "Maximum node temperatures recorded over the day",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "aveSoilTemp",
            "description": "Average node temperatures over the day",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "degC",
            "uri": "-"
        },
        {
            "name": "instrumentHeight",
            "description": "Instrument height adjusted for canopy after process",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0.5",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "netRadiation",
            "description": "Net radiation at soil surface for last sub-step",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "-",
            "unit": "MJ/m2 per substep",
            "uri": "-"
        },
        {
            "name": "canopyHeight",
            "description": "Stateful canopy height used during process",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "-",
            "default": "-",
            "unit": "m",
            "uri": "-"
        },
        {
            "name": "InitialValues",
            "description": "Persisted initial layer temperatures after first-day setup",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "-",
            "max": "-",
            "default": "None",
            "unit": "degC",
            "uri": "-"
        }
    ],
    "functions": [
        {
            "name": "Divide",
            "description": "Safe division returning errVal when denominator is zero."
        },
        {
            "name": "ValuesInArray",
            "description": "Checks if array has at least one valid (not 999999 and not NaN) value."
        },
        {
            "name": "Sum",
            "description": "Sums values from startIndex to endIndex inclusive, skipping 999999."
        },
        {
            "name": "Zero",
            "description": "Sets all elements of an array to zero."
        },
        {
            "name": "ToCumThickness",
            "description": "Computes cumulative thickness from layer thicknesses."
        },
        {
            "name": "volumetricSpecificHeat",
            "description": "Returns volumetric specific heat for a named soil constituent."
        },
        {
            "name": "volumetricFractionRocks",
            "description": "Volumetric fraction of rocks."
        },
        {
            "name": "volumetricFractionOrganicMatter",
            "description": "Volumetric fraction of organic matter."
        },
        {
            "name": "volumetricFractionSand",
            "description": "Volumetric fraction of sand."
        },
        {
            "name": "volumetricFractionSilt",
            "description": "Volumetric fraction of silt."
        },
        {
            "name": "volumetricFractionClay",
            "description": "Volumetric fraction of clay."
        },
        {
            "name": "volumetricFractionWater",
            "description": "Volumetric fraction of water."
        },
        {
            "name": "volumetricFractionIce",
            "description": "Volumetric fraction of ice (zero here)."
        },
        {
            "name": "volumetricFractionAir",
            "description": "Volumetric fraction of air as the remainder."
        },
        {
            "name": "ThermalConductance",
            "description": "Returns thermal conductance (note: implementation resets to specific heat)."
        },
        {
            "name": "shapeFactor",
            "description": "Returns particle shape factor (note: implementation resets to specific heat)."
        },
        {
            "name": "airDensity",
            "description": "Air density from temperature and pressure."
        },
        {
            "name": "kelvinT",
            "description": "Convert Celsius to Kelvin."
        },
        {
            "name": "longWaveRadn",
            "description": "Longwave radiation flux for given emissivity and temperature."
        },
        {
            "name": "mapLayer2Node",
            "description": "Maps layer-based values to node-based values by depth weighting."
        },
        {
            "name": "doVolumetricSpecificHeat",
            "description": "Computes volumetric specific heat profile at nodes."
        },
        {
            "name": "doThermalConductivity",
            "description": "Computes effective thermal conductivity profile at nodes."
        },
        {
            "name": "doThomas",
            "description": "Tridiagonal solver for heat diffusion with surface energy flux."
        },
        {
            "name": "interpolateTemperature",
            "description": "Diurnal air temperature interpolation."
        },
        {
            "name": "doUpdate",
            "description": "Updates daily min, max, average soil temperatures and boundary conductance."
        },
        {
            "name": "getBoundaryLayerConductance",
            "description": "Calculates boundary layer conductance with stability corrections."
        },
        {
            "name": "calcSoilTemperature",
            "description": "Initial soil temperature profile from annual wave."
        },
        {
            "name": "calcLayerTemperature",
            "description": "Analytical layer temperature from phase lag (unused in process)."
        },
        {
            "name": "calcSurfaceTemperature",
            "description": "Surface temperature estimate from albedo, mean and max temp, and radiation."
        },
        {
            "name": "doNetRadiation",
            "description": "Splits daily solar radiation to sub-daily and estimates cloud fraction and vapor term."
        },
        {
            "name": "interpolateNetRadiation",
            "description": "Computes net radiation at soil for a substep (SW and LW)."
        },
        {
            "name": "math_pi",
            "description": "Returns PI constant."
        },
        {
            "name": "math_sin",
            "description": "Sine wrapper."
        },
        {
            "name": "math_cos",
            "description": "Cosine wrapper."
        },
        {
            "name": "math_sqrt",
            "description": "Square root with non-negative guard."
        },
        {
            "name": "math_log",
            "description": "Natural log with positive guard."
        },
        {
            "name": "math_exp",
            "description": "Exponential wrapper."
        }
    ],
    "tests": [
        {
            "name": "test_initialize_and_process_simple",
            "description": "Initializes state with a 5-layer profile and runs one daily process step, asserting output size.",
            "inputs": [
                {
                    "name": "physical_Thickness",
                    "value": "[150.0, 150.0, 300.0, 300.0, 300.0]"
                },
                {
                    "name": "physical_BD",
                    "value": "[1.3, 1.3, 1.35, 1.35, 1.4]"
                },
                {
                    "name": "physical_Rocks",
                    "value": "[0.0, 0.0, 0.0, 0.0, 0.0]"
                },
                {
                    "name": "physical_ParticleSizeSand",
                    "value": "[40.0, 40.0, 40.0, 40.0, 40.0]"
                },
                {
                    "name": "physical_ParticleSizeSilt",
                    "value": "[40.0, 40.0, 40.0, 40.0, 40.0]"
                },
                {
                    "name": "physical_ParticleSizeClay",
                    "value": "[20.0, 20.0, 20.0, 20.0, 20.0]"
                },
                {
                    "name": "waterBalance_SW",
                    "value": "[0.25, 0.25, 0.26, 0.27, 0.28]"
                },
                {
                    "name": "organic_Carbon",
                    "value": "[1.0, 0.8, 0.6, 0.4, 0.3]"
                },
                {
                    "name": "weather_Tav",
                    "value": "15.0"
                },
                {
                    "name": "weather_Amp",
                    "value": "10.0"
                },
                {
                    "name": "weather_Latitude",
                    "value": "-27.0"
                },
                {
                    "name": "clock_Today_DayOfYear",
                    "value": "200"
                },
                {
                    "name": "InitialValues",
                    "value": "None"
                },
                {
                    "name": "DepthToConstantTemperature",
                    "value": "10000.0"
                },
                {
                    "name": "instrumHeight",
                    "value": "1.2"
                },
                {
                    "name": "waterBalance_Es",
                    "value": "2.0"
                },
                {
                    "name": "waterBalance_Eos",
                    "value": "5.0"
                },
                {
                    "name": "waterBalance_Eo",
                    "value": "6.0"
                },
                {
                    "name": "waterBalance_Salb",
                    "value": "0.2"
                },
                {
                    "name": "microClimate_CanopyHeight",
                    "value": "0.0"
                },
                {
                    "name": "weather_Wind",
                    "value": "3.0"
                },
                {
                    "name": "weather_AirPressure",
                    "value": "1010.0"
                },
                {
                    "name": "weather_Radn",
                    "value": "18.0"
                },
                {
                    "name": "weather_MeanT",
                    "value": "18.0"
                },
                {
                    "name": "weather_MaxT",
                    "value": "25.0"
                },
                {
                    "name": "weather_MinT",
                    "value": "10.0"
                },
                {
                    "name": "weather_Tav_day",
                    "value": "15.0"
                },
                {
                    "name": "weather_Latitude_day",
                    "value": "-27.0"
                },
                {
                    "name": "clock_Today_DayOfYear_day",
                    "value": "200"
                }
            ],
            "outputs": [
                {
                    "name": "FinalSoilTemperature",
                    "value": "list"
                },
                {
                    "name": "FinalSoilTemperature length",
                    "value": "5"
                }
            ]
        }
    ]
}