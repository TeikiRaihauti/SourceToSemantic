{
    "init": {
        "name": "SoilTemperature_initialize"
    },
    "process": {
        "name": "SoilTemperature_process",
        "description": "Crank–Nicolson soil heat transport with sub-daily boundary-layer exchange and net radiation, updating soil temperature profile and daily min/max/mean."
    },
    "inputs": [
        {
            "name": "physical_Thickness",
            "description": "Soil layer thickness by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "physical_BD",
            "description": "Bulk density by layer",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "physical_Rocks",
            "description": "Rock fragment content by layer (percent)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "physical_ParticleSizeSand",
            "description": "Sand fraction by layer (percent of mineral)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "physical_ParticleSizeSilt",
            "description": "Silt fraction by layer (percent of mineral)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "physical_ParticleSizeClay",
            "description": "Clay fraction by layer (percent of mineral)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "organic_Carbon",
            "description": "Organic carbon by layer (percent)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "waterBalance_SW",
            "description": "Volumetric soil water content by layer",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "weather_Tav",
            "description": "Mean temperature used for initial seasonal soil temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "weather_Amp",
            "description": "Annual temperature amplitude used for initial seasonal soil temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "weather_Latitude",
            "description": "Latitude",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "-90",
            "max": "90",
            "default": "",
            "unit": "deg",
            "uri": ""
        },
        {
            "name": "clock_Today_DayOfYear",
            "description": "Current day of year",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "366",
            "default": "",
            "unit": "doy",
            "uri": ""
        },
        {
            "name": "DepthToConstantTemperature",
            "description": "Depth to constant temperature boundary used to create phantom nodes",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 10000.0,
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "instrumentHeight_input",
            "description": "Initial instrument/reference height above surface (used to set instrumentHeight)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 1.2,
            "unit": "m",
            "uri": ""
        },
        {
            "name": "defaultTimeOfMaximumTemperature",
            "description": "Hour of day for maximum air temperature used in diurnal interpolation",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "24",
            "default": 14.0,
            "unit": "hour",
            "uri": ""
        },
        {
            "name": "boundarLayerConductanceSource",
            "description": "Boundary-layer conductance source: 'calc' or 'constant'",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "",
            "max": "",
            "default": "calc",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "netRadiationSource",
            "description": "Net radiation source: 'calc' or alternative",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "-",
            "min": "",
            "max": "",
            "default": "calc",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "InitialValues",
            "description": "Optional initial soil temperature values by layer (topsoil downward)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "weather_MeanT",
            "description": "Daily mean air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "weather_MaxT",
            "description": "Daily maximum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "weather_MinT",
            "description": "Daily minimum air temperature",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "weather_Radn",
            "description": "Daily solar radiation",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "MJ m-2 d-1",
            "uri": ""
        },
        {
            "name": "weather_AirPressure",
            "description": "Air pressure",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "hPa",
            "uri": ""
        },
        {
            "name": "weather_Wind",
            "description": "Wind speed at instrument height",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "m s-1",
            "uri": ""
        },
        {
            "name": "microClimate_CanopyHeight",
            "description": "Canopy height",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "waterBalance_Eos",
            "description": "Soil evaporation (used in energy balance and emissivity scaling)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "waterBalance_Eo",
            "description": "Potential evaporation (used for radiation penetration scaling)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "waterBalance_Es",
            "description": "Actual soil evaporation (used for latent heat flux)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "waterBalance_Salb",
            "description": "Soil albedo (shortwave reflectance)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "doInitialisationStuff",
            "description": "Flag to run one-time initialisation inside process",
            "inputtype": "variable",
            "category": "state",
            "datatype": "CHAR",
            "len": "-",
            "min": "",
            "max": "",
            "default": "True",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "internalTimeStep",
            "description": "Internal sub-daily timestep in seconds",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": 0.0,
            "unit": "s",
            "uri": ""
        },
        {
            "name": "timeOfDaySecs",
            "description": "Current time within day in seconds for sub-daily loop",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "86400",
            "default": 0.0,
            "unit": "s",
            "uri": ""
        },
        {
            "name": "numNodes",
            "description": "Number of computational nodes (layers + phantom nodes + surface/air nodes accounted in arrays)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "numLayers",
            "description": "Number of soil layers in the physical profile",
            "inputtype": "variable",
            "category": "state",
            "datatype": "INT",
            "len": "-",
            "min": "1",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "nodeDepth",
            "description": "Node depths (m) including air and phantom nodes",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "-",
            "unit": "m",
            "uri": ""
        },
        {
            "name": "thermCondPar1",
            "description": "Thermal conductivity parameter 1 by node (Coefficients from bulk density and clay)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "thermCondPar2",
            "description": "Thermal conductivity parameter 2 by node (from bulk density)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "thermCondPar3",
            "description": "Thermal conductivity parameter 3 by node (from clay content)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "thermCondPar4",
            "description": "Thermal conductivity parameter 4 by node (from bulk density)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat of soil at nodes",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "-",
            "unit": "J m-3 K-1",
            "uri": ""
        },
        {
            "name": "soilTemp",
            "description": "Soil temperature at nodes (including air and phantom nodes)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "morningSoilTemp",
            "description": "Soil temperature snapshot at ~5 AM for each node",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "heatStorage",
            "description": "Heat storage term by node (unused persistent container)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "J m-2 s-1 K-1",
            "uri": ""
        },
        {
            "name": "thermalConductance",
            "description": "Thermal conductance between nodes (unused persistent container)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "W m-2 K-1",
            "uri": ""
        },
        {
            "name": "thermalConductivity",
            "description": "Thermal conductivity at nodes (includes boundary layer at air node)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "-",
            "unit": "W m-1 K-1",
            "uri": ""
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Daily-averaged boundary-layer conductance (air node) accumulated over sub-steps",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": 0.0,
            "unit": "W m-2 K-1",
            "uri": ""
        },
        {
            "name": "newTemperature",
            "description": "Working array for new temperatures during matrix solve (includes air node)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "airTemperature",
            "description": "Instantaneous air temperature used at the air node during sub-step",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "maxTempYesterday",
            "description": "Yesterday's maximum air temperature used for diurnal interpolation pre-dawn",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "minTempYesterday",
            "description": "Yesterday's minimum air temperature used for diurnal interpolation pre-dawn",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "soilWater",
            "description": "Volumetric soil water content mapped to nodes (last layer extended to phantom)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "minSoilTemp",
            "description": "Daily minimum soil temperature per node (reset each day)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "maxSoilTemp",
            "description": "Daily maximum soil temperature per node (reset each day)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "aveSoilTemp",
            "description": "Daily average soil temperature per node accumulated over sub-steps",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "thickness",
            "description": "Element thicknesses including phantom segments for heat domain (surface-aligned)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "-",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "bulkDensity",
            "description": "Bulk density array extended to phantom nodes",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "rocks",
            "description": "Rock fraction array extended to phantom nodes (percent)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "carbon",
            "description": "Organic carbon array extended to phantom nodes (percent)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "sand",
            "description": "Sand fraction array extended to phantom nodes (percent)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "silt",
            "description": "Silt fraction array extended to phantom nodes (percent)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "clay",
            "description": "Clay fraction array extended to phantom nodes (percent)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "-",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "soilRoughnessHeight",
            "description": "Bare soil roughness height used as a lower bound for canopy height",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": 57.0,
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "instrumentHeight",
            "description": "Instrument/reference height above surface updated to be at least canopy+0.5 m",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0.5",
            "max": "",
            "default": 1.2,
            "unit": "m",
            "uri": ""
        },
        {
            "name": "netRadiation",
            "description": "Net radiation per sub-step used in surface energy balance (shortwave-dominant here)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "MJ m-2 per sub-step",
            "uri": ""
        },
        {
            "name": "canopyHeight",
            "description": "Canopy height used in boundary layer conductance (m)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "",
            "default": 0.0,
            "unit": "m",
            "uri": ""
        },
        {
            "name": "instrumHeight",
            "description": "Raw instrument height input value stored for reference",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "m",
            "uri": ""
        },
        {
            "name": "nu",
            "description": "Crank–Nicolson weighting parameter (0..1)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": 0.6,
            "unit": "-",
            "uri": ""
        },
        {
            "name": "boundarLayerConductanceSource",
            "description": "Boundary-layer conductance option stored in state",
            "inputtype": "variable",
            "category": "state",
            "datatype": "CHAR",
            "len": "-",
            "min": "",
            "max": "",
            "default": "calc",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "netRadiationSource",
            "description": "Net radiation option stored in state",
            "inputtype": "variable",
            "category": "state",
            "datatype": "CHAR",
            "len": "-",
            "min": "",
            "max": "",
            "default": "calc",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "InitialValues",
            "description": "Stored initial soil temperature by layer (if provided)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLELIST",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "defaultTimeOfMaximumTemperature",
            "description": "Stored default Tmax time used for diurnal interpolation",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "0",
            "max": "24",
            "default": 14.0,
            "unit": "hour",
            "uri": ""
        },
        {
            "name": "soilConstituentNames",
            "description": "List of soil constituent names used in mixture rules",
            "inputtype": "variable",
            "category": "state",
            "datatype": "CHAR",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "pom",
            "description": "Particle density of organic matter used in fractions",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 1.3,
            "unit": "g cm-3",
            "uri": ""
        },
        {
            "name": "ps",
            "description": "Particle density of soil minerals used in fractions",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 2.63,
            "unit": "g cm-3",
            "uri": ""
        },
        {
            "name": "DepthToConstantTemperature",
            "description": "Stored constant-depth parameter used during initialise",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLE",
            "len": "-",
            "min": "",
            "max": "",
            "default": 10000.0,
            "unit": "mm",
            "uri": ""
        }
    ],
    "outputs": [
        {
            "name": "doInitialisationStuff",
            "description": "Flag to run one-time initialisation inside process",
            "datatype": "CHAR",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "internalTimeStep",
            "description": "Internal sub-daily timestep in seconds",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "s",
            "uri": ""
        },
        {
            "name": "timeOfDaySecs",
            "description": "Current time within day in seconds for sub-daily loop",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "86400",
            "default": "",
            "unit": "s",
            "uri": ""
        },
        {
            "name": "numNodes",
            "description": "Number of computational nodes",
            "datatype": "INT",
            "category": "state",
            "len": "-",
            "min": "1",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "numLayers",
            "description": "Number of soil layers in the physical profile",
            "datatype": "INT",
            "category": "state",
            "len": "-",
            "min": "1",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "nodeDepth",
            "description": "Node depths (m) including air and phantom nodes",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "m",
            "uri": ""
        },
        {
            "name": "thermCondPar1",
            "description": "Thermal conductivity parameter 1 by node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "thermCondPar2",
            "description": "Thermal conductivity parameter 2 by node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "thermCondPar3",
            "description": "Thermal conductivity parameter 3 by node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "thermCondPar4",
            "description": "Thermal conductivity parameter 4 by node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat of soil at nodes",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "J m-3 K-1",
            "uri": ""
        },
        {
            "name": "soilTemp",
            "description": "Soil temperature at nodes (including air and phantom nodes)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "morningSoilTemp",
            "description": "Soil temperature snapshot at ~5 AM for each node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "heatStorage",
            "description": "Heat storage term by node (persistent container)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "J m-2 s-1 K-1",
            "uri": ""
        },
        {
            "name": "thermalConductance",
            "description": "Thermal conductance between nodes (persistent container)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "W m-2 K-1",
            "uri": ""
        },
        {
            "name": "thermalConductivity",
            "description": "Thermal conductivity at nodes (includes boundary layer at air node)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "W m-1 K-1",
            "uri": ""
        },
        {
            "name": "boundaryLayerConductance",
            "description": "Daily-averaged boundary-layer conductance (air node)",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "W m-2 K-1",
            "uri": ""
        },
        {
            "name": "newTemperature",
            "description": "Working array for new temperatures during matrix solve (includes air node)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "airTemperature",
            "description": "Instantaneous air temperature used at the air node during sub-step",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "maxTempYesterday",
            "description": "Yesterday's maximum air temperature used for diurnal interpolation",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "minTempYesterday",
            "description": "Yesterday's minimum air temperature used for diurnal interpolation",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "soilWater",
            "description": "Volumetric soil water content mapped to nodes (last layer extended to phantom)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "minSoilTemp",
            "description": "Daily minimum soil temperature per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "maxSoilTemp",
            "description": "Daily maximum soil temperature per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "aveSoilTemp",
            "description": "Daily average soil temperature per node",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "thickness",
            "description": "Element thicknesses including phantom segments for heat domain",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "bulkDensity",
            "description": "Bulk density array extended to phantom nodes",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": "",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "rocks",
            "description": "Rock fraction array extended to phantom nodes (percent)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "carbon",
            "description": "Organic carbon array extended to phantom nodes (percent)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "sand",
            "description": "Sand fraction array extended to phantom nodes (percent)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "silt",
            "description": "Silt fraction array extended to phantom nodes (percent)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "clay",
            "description": "Clay fraction array extended to phantom nodes (percent)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "100",
            "default": "",
            "unit": "percent",
            "uri": ""
        },
        {
            "name": "soilRoughnessHeight",
            "description": "Bare soil roughness height used as a lower bound for canopy height",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": 57.0,
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "instrumentHeight",
            "description": "Instrument/reference height above surface updated to be at least canopy+0.5 m",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0.5",
            "max": "",
            "default": 1.2,
            "unit": "m",
            "uri": ""
        },
        {
            "name": "netRadiation",
            "description": "Net radiation per sub-step used in surface energy balance (shortwave-dominant here)",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "MJ m-2 per sub-step",
            "uri": ""
        },
        {
            "name": "canopyHeight",
            "description": "Canopy height used in boundary layer conductance (m)",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "",
            "default": 0.0,
            "unit": "m",
            "uri": ""
        },
        {
            "name": "instrumHeight",
            "description": "Raw instrument height input value stored for reference",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 0.0,
            "unit": "m",
            "uri": ""
        },
        {
            "name": "nu",
            "description": "Crank–Nicolson weighting parameter (0..1)",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "1",
            "default": 0.6,
            "unit": "-",
            "uri": ""
        },
        {
            "name": "boundarLayerConductanceSource",
            "description": "Boundary-layer conductance option stored in state",
            "datatype": "CHAR",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "calc",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "netRadiationSource",
            "description": "Net radiation option stored in state",
            "datatype": "CHAR",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "calc",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "InitialValues",
            "description": "Stored initial soil temperature by layer (if provided)",
            "datatype": "DOUBLELIST",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "degC",
            "uri": ""
        },
        {
            "name": "defaultTimeOfMaximumTemperature",
            "description": "Stored default Tmax time used for diurnal interpolation",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "0",
            "max": "24",
            "default": 14.0,
            "unit": "hour",
            "uri": ""
        },
        {
            "name": "soilConstituentNames",
            "description": "List of soil constituent names used in mixture rules",
            "datatype": "CHAR",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "-",
            "unit": "-",
            "uri": ""
        },
        {
            "name": "pom",
            "description": "Particle density of organic matter used in fractions",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 1.3,
            "unit": "g cm-3",
            "uri": ""
        },
        {
            "name": "ps",
            "description": "Particle density of soil minerals used in fractions",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 2.63,
            "unit": "g cm-3",
            "uri": ""
        },
        {
            "name": "DepthToConstantTemperature",
            "description": "Stored constant-depth parameter used during initialise",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": 10000.0,
            "unit": "mm",
            "uri": ""
        }
    ],
    "functions": [
        {
            "name": "Divide",
            "description": "Safe division returning a fallback value on zero denominator."
        },
        {
            "name": "ValuesInArray",
            "description": "Checks if an array contains any valid (non-999999, non-NaN) value."
        },
        {
            "name": "Sum",
            "description": "Sums values between indices ignoring 999999 sentinel."
        },
        {
            "name": "Zero",
            "description": "Sets all entries of an array to zero."
        },
        {
            "name": "ToCumThickness",
            "description": "Computes cumulative thickness."
        },
        {
            "name": "volumetricSpecificHeat",
            "description": "Returns specific heat capacity for a named soil constituent."
        },
        {
            "name": "ThermalConductance",
            "description": "Returns conductance value for a constituent (quirk: returns specific heat)."
        },
        {
            "name": "shapeFactor",
            "description": "Returns shape factor for heat transport (quirk: returns specific heat)."
        },
        {
            "name": "airDensity",
            "description": "Computes air density from temperature and pressure."
        },
        {
            "name": "doThermalConductivityCoeffs",
            "description": "Computes empirical coefficients for thermal conductivity."
        },
        {
            "name": "doVolumetricSpecificHeat",
            "description": "Aggregates volumetric specific heat at nodes from constituents."
        },
        {
            "name": "doThermalConductivity",
            "description": "Computes effective thermal conductivity at nodes via mixture rules."
        },
        {
            "name": "mapLayer2Node",
            "description": "Maps layer-centered values to node-centered values by linear weighting."
        },
        {
            "name": "doThomas",
            "description": "Thomas algorithm solve for tridiagonal system (Crank–Nicolson step)."
        },
        {
            "name": "interpolateTemperature",
            "description": "Diurnal air temperature interpolation using sinusoidal method."
        },
        {
            "name": "doUpdate",
            "description": "Updates temperatures and daily min/max/mean; averages boundary layer conductance."
        },
        {
            "name": "getBoundaryLayerConductance",
            "description": "Computes boundary-layer conductance with stability corrections."
        },
        {
            "name": "kelvinT",
            "description": "Converts Celsius to Kelvin."
        },
        {
            "name": "longWaveRadn",
            "description": "Computes longwave radiation for given emissivity and temperature."
        },
        {
            "name": "calcSoilTemperature",
            "description": "Initial seasonal soil temperature profile from harmonic solution."
        },
        {
            "name": "calcLayerTemperature",
            "description": "Harmonic temperature at depth with phase lag and damping."
        },
        {
            "name": "calcSurfaceTemperature",
            "description": "Estimates soil surface temperature from albedo, air T, and radiation."
        },
        {
            "name": "doNetRadiation",
            "description": "Distributes daily shortwave across sub-steps; estimates cloud fraction."
        },
        {
            "name": "interpolateNetRadiation",
            "description": "Computes net radiation per sub-step for soil surface."
        },
        {
            "name": "math_pi",
            "description": "Returns mathematical constant pi."
        },
        {
            "name": "math_sin",
            "description": "Sine wrapper."
        },
        {
            "name": "math_cos",
            "description": "Cosine wrapper."
        },
        {
            "name": "math_exp",
            "description": "Exponential wrapper."
        },
        {
            "name": "math_log",
            "description": "Natural log wrapper."
        },
        {
            "name": "math_sqrt",
            "description": "Square root wrapper."
        }
    ],
    "tests": [
        {
            "name": "-",
            "description": "-",
            "inputs": [],
            "outputs": []
        }
    ]
}