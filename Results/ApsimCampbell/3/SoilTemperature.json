{
    "metadata": {
        "Title": "Soil temperature model",
        "Authors": "-",
        "Institution": "-",
        "URI": "-",
        "DOI": "-",
        "Extended description": "The soil temperature model includes functionality for simulating the heat flux and temperatures over the soil profile, includes temperature on the soil surface. The processes are described below, most are based on Campbell, 1985. Soil profile represented by soil layers and temperature nodes. Note: arrays adapted from original FORTRAN; node 0 = air, node 1 = surface, nodes 2.. = middle of layers.",
        "Short description": "Simulates heat flux and temperatures through a soil profile (including surface) using Campbell (1985) approaches.",
        "Model version": "-"
    },
    "init": {
        "name": "OnStartOfSimulation",
        "firstLine": "doInitialisationStuff = true;",
        "lastLine": "InitialValues = pInitialValues;"
    },
    "process": {
        "name": "doProcess",
        "description": "Perform actions for current day",
        "firstLine": "const int interactionsPerDay = 48;     // number of iterations in a day",
        "lastLine": "maxTempYesterday = weather.MaxT;"
    },
    "inputs": [
        {
            "name": "weather_MeanT",
            "description": "Mean daily air temperature from IWeather",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "weather_Tav",
            "description": "Average air temperature (Tav) from IWeather",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "weather_MaxT",
            "description": "Maximum daily air temperature from IWeather",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "weather_MinT",
            "description": "Minimum daily air temperature from IWeather",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "weather_Radn",
            "description": "Daily measured solar radiation from IWeather (used for net radiation calculations)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "MJ/m2",
            "uri": ""
        },
        {
            "name": "weather_Amp",
            "description": "Seasonal amplitude used in calcSoilTemperature (from weather)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "weather_Latitude",
            "description": "Site latitude (degrees) from IWeather",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "-90.0",
            "max": "90.0",
            "default": "",
            "unit": "degrees",
            "uri": ""
        },
        {
            "name": "weather_Wind",
            "description": "Wind speed from IWeather (used in boundary layer conductance)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "0.0",
            "max": "",
            "default": "",
            "unit": "m/s",
            "uri": ""
        },
        {
            "name": "weather_AirPressure",
            "description": "Air pressure from IWeather (hPa) used in air density calculation",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "hPa",
            "uri": ""
        },
        {
            "name": "clock_Today_DayOfYear",
            "description": "Day of year (clock.Today.DayOfYear) used for seasonal calculations",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "INT",
            "len": "",
            "min": "1",
            "max": "366",
            "default": "",
            "unit": "day of year",
            "uri": ""
        },
        {
            "name": "waterBalance_SW",
            "description": "Soil water content per layer (SW) from soil water component (volumetric water content)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "1.0",
            "default": "",
            "unit": "m3/m3",
            "uri": ""
        },
        {
            "name": "waterBalance_Es",
            "description": "Soil evaporation (Es) from soil water component (used for latent heat flux)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "waterBalance_Eos",
            "description": "Eos (used as cover-penetration factor proxy) from soil water component",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "waterBalance_Eo",
            "description": "Reference evaporation Eo from soil water component (used for penetration constant)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "waterBalance_Salb",
            "description": "Soil albedo (Salb) from soil water component (fraction)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "0.0",
            "max": "1.0",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "microClimate_CanopyHeight",
            "description": "Canopy height from MicroClimate (used to compute canopy/roughness height)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "physical_Thickness",
            "description": "Thickness of soil layers from Physical component (mm)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "physical_BD",
            "description": "Bulk density per layer from Physical component (g/cm3)",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "g/cm3",
            "uri": ""
        },
        {
            "name": "physical_Rocks",
            "description": "Volumetric fraction of rocks per layer (%) from Physical component",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "physical_ParticleSizeSand",
            "description": "Percent sand per layer (%) from Physical component",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "physical_ParticleSizeSilt",
            "description": "Percent silt per layer (%) from Physical component",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "physical_ParticleSizeClay",
            "description": "Percent clay per layer (%) from Physical component",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "organic_Carbon",
            "description": "Carbon (organic matter) fraction per layer (%) from Organic component",
            "inputtype": "variable",
            "category": "exogenous",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "InitialValues",
            "description": "Initial values for the temperature in each layer (oC) - model input property",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "Thickness",
            "description": "Thickness of soil layers (mm) - model input property",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "DepthToConstantTemperature",
            "description": "Depth down to the constant temperature (mm) - model property",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "10000.0",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "pInitialValues",
            "description": "Private initial values array (internal initial values for temperatures) ",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "null",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "pom",
            "description": "Particle density of organic matter (Mg/m3)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "1.3",
            "unit": "Mg/m3",
            "uri": ""
        },
        {
            "name": "ps",
            "description": "Particle density of soil fines (Mg/m3)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "2.63",
            "unit": "Mg/m3",
            "uri": ""
        },
        {
            "name": "soilConstituentNames",
            "description": "List of names of soil constituents used in heat capacity and conductivity calculations",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "8",
            "min": "",
            "max": "",
            "default": "[\"Rocks\",\"OrganicMatter\",\"Sand\",\"Silt\",\"Clay\",\"Water\",\"Ice\",\"Air\"]",
            "unit": "",
            "uri": ""
        },
        {
            "name": "latentHeatOfVapourisation",
            "description": "Latent heat of vapourisation for water (J/kg)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "2465000.0",
            "unit": "J/kg",
            "uri": ""
        },
        {
            "name": "stefanBoltzmannConstant",
            "description": "Stefan-Boltzmann constant (W/m2/K4)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "5.67e-08",
            "unit": "W/m2/K4",
            "uri": ""
        },
        {
            "name": "airNode",
            "description": "Index of the node in the atmosphere (aboveground)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "",
            "min": "",
            "max": "",
            "default": "0",
            "unit": "",
            "uri": ""
        },
        {
            "name": "surfaceNode",
            "description": "Index of the node on the soil surface (depth = 0)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "",
            "min": "",
            "max": "",
            "default": "1",
            "unit": "",
            "uri": ""
        },
        {
            "name": "topsoilNode",
            "description": "Index of the first node within the soil (top layer)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "",
            "min": "",
            "max": "",
            "default": "2",
            "unit": "",
            "uri": ""
        },
        {
            "name": "numPhantomNodes",
            "description": "Number of phantom nodes below the soil profile",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "",
            "min": "",
            "max": "",
            "default": "5",
            "unit": "",
            "uri": ""
        },
        {
            "name": "constantBoundaryLayerConductance",
            "description": "Boundary layer conductance to use when source is 'constant' (K/W)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "20",
            "unit": "K/W",
            "uri": ""
        },
        {
            "name": "numIterationsForBoundaryLayerConductance",
            "description": "Number of iterations to calculate atmosphere boundary layer conductance",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "INT",
            "len": "",
            "min": "1",
            "max": "",
            "default": "1",
            "unit": "",
            "uri": ""
        },
        {
            "name": "defaultTimeOfMaximumTemperature",
            "description": "Time of maximum temperature (hour) used in diurnal interpolation",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "14.0",
            "unit": "h",
            "uri": ""
        },
        {
            "name": "defaultInstrumentHeight",
            "description": "Default instrument height (m)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "1.2",
            "unit": "m",
            "uri": ""
        },
        {
            "name": "bareSoilRoughness",
            "description": "Roughness element height of bare soil (mm)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "57",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "timestep",
            "description": "Internal time-step for the model (seconds)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "86400.0",
            "unit": "s",
            "uri": ""
        },
        {
            "name": "nu",
            "description": "Forward/backward differencing coefficient (weighting factor)",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "DOUBLE",
            "len": "",
            "min": "0.0",
            "max": "1.0",
            "default": "0.6",
            "unit": "",
            "uri": ""
        },
        {
            "name": "boundarLayerConductanceSource",
            "description": "Flag whether boundary layer conductance is calculated or constant ('calc' or 'constant')",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "",
            "min": "",
            "max": "",
            "default": "\"calc\"",
            "unit": "",
            "uri": ""
        },
        {
            "name": "netRadiationSource",
            "description": "Flag whether net radiation is calculated or derived ('calc' or 'eos')",
            "inputtype": "parameter",
            "category": "constant",
            "datatype": "CHAR",
            "len": "",
            "min": "",
            "max": "",
            "default": "\"calc\"",
            "unit": "",
            "uri": ""
        },
        {
            "name": "instrumHeight",
            "description": "Internal instrument height (m) if set (private), otherwise default used",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "0.0",
            "unit": "m",
            "uri": ""
        },
        {
            "name": "instrumentHeight",
            "description": "Height of instruments above ground (m) used for boundary layer calculations",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "m",
            "uri": ""
        },
        {
            "name": "soilRoughnessHeight",
            "description": "Height of soil roughness (mm) used to compute canopy/roughness",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "numNodes",
            "description": "Number of nodes over the soil profile (computed)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "INT",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "numLayers",
            "description": "Number of soil layers (computed from physical.Thickness)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "INT",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "thickness",
            "description": "Thickness array (mm) internal mapping of layers plus phantom nodes",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "mm",
            "uri": ""
        },
        {
            "name": "nodeDepth",
            "description": "Depths of nodes (m) internal array used for volume and conductance calculations",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "m",
            "uri": ""
        },
        {
            "name": "thermCondPar1",
            "description": "Thermal conductivity coefficient C1 per node (internal)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "thermCondPar2",
            "description": "Thermal conductivity coefficient C2 per node (internal)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "thermCondPar3",
            "description": "Thermal conductivity coefficient C3 per node (internal)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "thermCondPar4",
            "description": "Thermal conductivity coefficient C4 per node (internal)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "",
            "uri": ""
        },
        {
            "name": "volSpecHeatSoil",
            "description": "Volumetric specific heat capacity per node (J/K/m3) computed by model",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "J/K/m3",
            "uri": ""
        },
        {
            "name": "soilTemp",
            "description": "Temperature of each soil node (oC) - main internal state",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "morningSoilTemp",
            "description": "Soil temperature profile at morning (oC) (internal snapshot)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "newTemperature",
            "description": "Soil temperature at the end of iteration (oC) (temporary/new temperatures)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "heatStorage",
            "description": "Heat storage (CP) between nodes (J/K) internal array",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "J/K",
            "uri": ""
        },
        {
            "name": "thermalConductance",
            "description": "Conductance of element between nodes (W/K) internal array",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "W/K",
            "uri": ""
        },
        {
            "name": "thermalConductivity",
            "description": "Thermal conductivity per node (W.m/K) internal array",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "W.m/K",
            "uri": ""
        },
        {
            "name": "airTemperature",
            "description": "Interpolated air temperature used for atmosphere node (oC)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "maxTempYesterday",
            "description": "Yesterday's maximum daily air temperature (oC) (used in diurnal interpolation)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "minTempYesterday",
            "description": "Yesterday's minimum daily air temperature (oC) (used in diurnal interpolation)",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLE",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "soilWater",
            "description": "Volumetric water content per node (internal mapping of waterBalance.SW)",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "1.0",
            "default": "",
            "unit": "m3/m3",
            "uri": ""
        },
        {
            "name": "minSoilTemp",
            "description": "Minimum soil temperature per node (oC) tracked during iterations",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "maxSoilTemp",
            "description": "Maximum soil temperature per node (oC) tracked during iterations",
            "inputtype": "variable",
            "category": "state",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "aveSoilTemp",
            "description": "Average soil temperature per node (oC) accumulated during iterations",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "rocks",
            "description": "Volumetric fraction of rocks per layer (%) internal copy from physical",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "carbon",
            "description": "Carbon (OM) fraction per layer (%) internal copy from organic",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "sand",
            "description": "Percent sand per layer (%) internal copy from physical",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "silt",
            "description": "Percent silt per layer (%) internal copy from physical",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        },
        {
            "name": "clay",
            "description": "Percent clay per layer (%) internal copy from physical",
            "inputtype": "variable",
            "category": "auxiliary",
            "datatype": "DOUBLEARRAY",
            "len": "",
            "min": "0.0",
            "max": "100.0",
            "default": "",
            "unit": "%",
            "uri": ""
        }
    ],
    "outputs": [
        {
            "name": "FinalSoilTemperature",
            "description": "Temperatures over the soil profile at end of a day, i.e. at midnight",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "FinalSoilSurfaceTemperature",
            "description": "Temperature of soil surface at end of a day, i.e. at midnight",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "Value",
            "description": "Temperature of soil layers averaged over a day (Mandatory for ISoilTemperature interface)",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "AverageSoilTemperature",
            "description": "Temperatures over soil profile averaged over a day",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "AverageSoilSurfaceTemperature",
            "description": "Temperature of soil surface averaged over a day",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "MinimumSoilTemperature",
            "description": "Minimum temperatures over the soil profile within a day",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "MinimumSoilSurfaceTemperature",
            "description": "Minimum temperature of soil surface within a day",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "MaximumSoilTemperature",
            "description": "Maximum temperatures over the soil profile within a day",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "MaximumSoilSurfaceTemperature",
            "description": "Maximum temperature of soil surface within a day",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        },
        {
            "name": "BoundaryLayerConductance",
            "description": "Atmosphere boundary layer conductance averaged over a day",
            "datatype": "DOUBLE",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "W/K",
            "uri": ""
        },
        {
            "name": "ThermalConductivity",
            "description": "Thermal conductivity over the soil profile",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "W.m/K",
            "uri": ""
        },
        {
            "name": "HeatCapacity",
            "description": "Volumetric heat capacity over the soil profile",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "J/K/m3",
            "uri": ""
        },
        {
            "name": "HeatStore",
            "description": "Heat storage over the soil profile",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "J/K",
            "uri": ""
        },
        {
            "name": "Thr_profile",
            "description": "Internal morning soil temperature profile (FIXME in code)",
            "datatype": "DOUBLEARRAY",
            "category": "state",
            "len": "-",
            "min": "",
            "max": "",
            "default": "",
            "unit": "oC",
            "uri": ""
        }
    ],
    "functions": [
        {
            "name": "doNetRadiation",
            "description": "Calculate initial variables for net radiation per time-step (prepares solarRadn, cloudFr, cva)"
        },
        {
            "name": "Zero",
            "description": "Zero the specified array (utility to set arrays to 0)"
        },
        {
            "name": "doVolumetricSpecificHeat",
            "description": "Calculate the volumetric specific heat capacity (Cv, J/K/m3) of each soil node"
        },
        {
            "name": "doThermalConductivity",
            "description": "Calculate the thermal conductivity of each soil node/layer (maps layer values to nodes)"
        },
        {
            "name": "interpolateTemperature",
            "description": "Interpolate air temperature for a given time of day (diurnal interpolation between min and max)"
        },
        {
            "name": "interpolateNetRadiation",
            "description": "Calculate the net radiation (shortwave + longwave) at the soil surface for a timestep"
        },
        {
            "name": "getBoundaryLayerConductance",
            "description": "Calculate atmospheric boundary layer conductance (including stability corrections and radiative term)"
        },
        {
            "name": "doThomas",
            "description": "Solve tri-diagonal matrix for heat flow using the Thomas algorithm (numerical solution for temperatures)"
        },
        {
            "name": "doUpdate",
            "description": "Update min, max and average soil temperatures and accumulate boundary layer conductance over iterations"
        }
    ],
    "tests": "-"
}